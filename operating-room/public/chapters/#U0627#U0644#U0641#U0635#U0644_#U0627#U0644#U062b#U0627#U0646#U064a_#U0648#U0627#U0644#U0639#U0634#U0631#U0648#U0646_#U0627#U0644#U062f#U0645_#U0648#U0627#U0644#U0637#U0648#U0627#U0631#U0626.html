<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjdiNWFlNDg4ZGU5NDlkNmY0OGJhYzU1ZmMwYTE1NzJlZTJmNjExMzciLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzA5MjQyNzU0MTU0NTY0NjY4MCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2JjMTE5NTgyNmI1ZTRmMjVf2KfZhNmB2LXZhF_Yp9mE2KvYp9mG2Ypf2YjYp9mE2LnYtNix2YjZhl_Yp9mE2K_ZhV_ZiNin2YTYt9mI2KfYsdimLmh0bWwtMzk4In0sImV4cCI6MTc3MTY3NjM5NywiaWF0IjoxNzcxNjcyNzk3LCJhbGciOiJSUzI1NiJ9.ax8_OKZibGIMdYpdUqFctUStrQgDKnuXRbb_zRx7wMx6iUM_xpfB8DF_vzJF5yhMDf6f9f-M-90ZIoVuKn7SlXFbaqnURcV7CzoGgQ_eofJtp7WB622lL_Z9Ej07j-fMlYpF2z5v1lovE37ovl8Ki3kDW0mLbbtsoIbCzIgQ-OsmROJgtebrGZvLBuA0gwJ9mDnHvePL39iggtKghwOmibnF242GT1aVnM08LWsEehsswv-hIKtyizp7LN8YF6iSvINHQY-lzI1Rze0tUtzmJphcPrgWpeRKVMh26a5hKCAz2HQ8VuZyRQ5v8tuwUTFiFGH8sEpJkIFkv9nYgz3ZJA","c_bc1195826b5e4f25_الفصل_الثاني_والعشرون_الدم_والطوارئ.html-398")</script><script>(function(){'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
})();</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-3-pro-image-preview-11-2025","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20","gemini-2.5-flash-preview-09-2025"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function(){'use strict';function a(){window.parent.postMessage({type:"interaction"},"*")}window.addEventListener("click",a,{capture:!0,passive:!0});window.addEventListener("touchstart",a,{capture:!0,passive:!0});window.addEventListener("keydown",a,{capture:!0,passive:!0});}).call(this);
</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الفصل الثاني والعشرون — الدم وحالات الطوارئ المحيطة بالجراحة</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&amp;family=Noto+Kufi+Arabic:wght@300;400;600;800&amp;display=swap" rel="stylesheet">
    <style>
      :root {
        --primary-blue: #2563eb;
        --light-blue-bg: #dbeafe;
        --text-color: #1f2937;
        --box-blue: #eff6ff;
        --box-blue-border: #bfdbfe;
        --box-green: #f0fdf4;
        --box-green-border: #bbf7d0;
        --box-yellow: #fefce8;
        --box-yellow-border: #fef08a;
        --box-red: #fef2f2;
        --box-red-border: #fecaca;
      }

      body {
        font-family: 'Amiri', 'Times New Roman', serif;
        line-height: 1.8;
        color: var(--text-color);
        background-color: #fff;
        max-width: 900px;
        margin: 0 auto;
        padding: 40px 60px;
        box-sizing: border-box;
        text-align: justify;
        font-size: 19px;
      }

      h1 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 800;
        color: #1e3a8a;
        text-align: center;
        font-size: 32px;
        margin-bottom: 10px;
        margin-top: 40px;
        line-height: 1.3;
      }

      .part-title {
        text-align: center;
        font-size: 18px;
        color: #6b7280;
        font-family: 'Noto Kufi Arabic', sans-serif;
        margin-bottom: 5px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      h2 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 600;
        color: var(--primary-blue);
        background-color: var(--light-blue-bg);
        padding: 12px 20px;
        margin-top: 50px;
        margin-bottom: 25px;
        border-right: 6px solid #1e40af;
        border-radius: 4px;
        font-size: 24px;
        page-break-after: avoid;
      }

      h3 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 600;
        color: #1e40af;
        font-size: 20px;
        margin-top: 30px;
        margin-bottom: 15px;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 5px;
      }

      h4 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 600;
        color: #374151;
        font-size: 19px;
        margin-top: 25px;
        margin-bottom: 10px;
      }

      p {
        margin-bottom: 18px;
      }

      .subtitle {
        text-align: center;
        font-size: 22px;
        color: #4b5563;
        margin-bottom: 40px;
        font-family: 'Noto Kufi Arabic', sans-serif;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 20px;
      }

      /* Boxes Style */
      .quote-box {
        background-color: var(--box-blue);
        border: 1px solid var(--box-blue-border);
        border-right: 5px solid var(--primary-blue);
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
        color: #1e3a8a;
      }

      .alert-box {
        background-color: var(--box-red);
        border: 1px solid var(--box-red-border);
        border-right: 5px solid #ef4444;
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
      }

      .success-box {
        background-color: var(--box-green);
        border: 1px solid var(--box-green-border);
        border-right: 5px solid #22c55e;
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
      }

      .concept-box {
        background-color: var(--box-yellow);
        border: 1px solid var(--box-yellow-border);
        border-right: 5px solid #eab308;
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
      }

      /* Tables Style */
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.95em;
        background-color: #fff;
        border: 1px solid #e5e7eb;
      }
      
      thead tr {
        background-color: var(--primary-blue);
        color: #ffffff;
        text-align: right;
      }
      
      th, td {
        padding: 12px 15px;
        border: 1px solid #e5e7eb;
      }
      
      tbody tr:nth-of-type(even) {
        background-color: #f9fafb;
      }

      /* Lists */
      ul, ol {
        margin-bottom: 20px;
        padding-right: 30px;
      }

      li {
        margin-bottom: 10px;
      }

      strong {
        color: #111827;
        font-weight: bold;
      }

      .divider {
        text-align: center;
        color: #9ca3af;
        margin: 50px 0;
        font-size: 24px;
        letter-spacing: 5px;
      }

      .english-term {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 600;
        color: var(--primary-blue);
        direction: ltr;
        display: inline-block;
      }

      /* References */
      .references-list {
        font-size: 16px;
        color: #4b5563;
        direction: ltr;
        text-align: left;
        margin-top: 30px;
        border-top: 1px solid #e5e7eb;
        padding-top: 20px;
      }

      .references-list li {
        margin-bottom: 8px;
      }

      @media (max-width: 768px) {
        body { padding: 20px; font-size: 17px; }
        table { display: block; overflow-x: auto; }
      }

      /* Download Button Style */
      .download-btn {
        position: fixed;
        bottom: 30px;
        left: 30px;
        background-color: #2563eb;
        color: white;
        padding: 15px 25px;
        border: none;
        border-radius: 50px;
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: bold;
        font-size: 16px;
        cursor: pointer;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: background-color 0.3s, transform 0.2s;
      }

      .download-btn:hover {
        background-color: #1d4ed8;
        transform: translateY(-2px);
      }
    </style>
</head>
<body style="padding-top: 40px;">

    <!-- Download Button -->
    

    <div class="part-title">PART IV — Medications, Blood, and Perioperative Emergencies</div>
    <div class="part-title">الجزء الرابع — الأدوية، الدم، وحالات الطوارئ المحيطة بالجراحة</div>
    
    <h1>CHAPTER 22 — Blood and Perioperative Emergencies (OR Readiness and Response)</h1>
    <div class="subtitle">الفصل الثاني والعشرون — الدم وحالات الطوارئ المحيطة بالجراحة (جاهزية واستجابة غرفة العمليات)<br>
    <span style="font-size: 18px;">(Blood Request/Receipt Verification • Traceability • Hemorrhage Readiness • Emergency Roles &amp; Scripts • Post-Event Learning Loops)<br>
    (التحقق من طلب/استلام الدم • إمكانية التتبع • جاهزية النزيف • أدوار ونصوص الطوارئ • حلقات التعلم ما بعد الحدث)</span></div>

    <h2>أهداف الفصل / Chapter Aims</h2>
    <div class="concept-box">
        <p>بحلول نهاية هذا الفصل، ستكون قادراً على:</p>
        <p><span class="english-term">By the end of this chapter, you will be able to:</span></p>
        <ol>
            <li>إنشاء نظام جاهز في غرفة العمليات <strong>لطلب الدم، استلامه، التحقق منه، وتتبعه</strong> تحت الضغط—دون اختصارات. (AHRQ)<br>
            <span class="english-term">Create an OR-ready system for blood request, receipt, verification, and traceability under pressure—without shortcuts. (AHRQ)</span></li>
            
            <li>بناء <strong>حزمة جاهزية للنزيف (Hemorrhage readiness bundle)</strong> خاصة بالمسرح الجراحي: معدات، إمدادات، أدوار، ونصوص تقلل العبء المعرفي. (IHI; ECRI concepts)<br>
            <span class="english-term">Build a theatre-side hemorrhage readiness bundle: equipment, supplies, roles, and scripts that reduce cognitive load. (IHI; ECRI concepts)</span></li>
            
            <li>توحيد <strong>استجابة غرفة العمليات لحالات الطوارئ</strong> المحيطة بالجراحة: تصعيد النزيف، التفاعلات المشابهة للتأق (Anaphylaxis)، أزمات مجرى الهواء، توقف القلب، وإخفاقات المعدات الحرجة. (AHRQ; IHI)<br>
            <span class="english-term">Standardize OR response to perioperative emergencies: hemorrhage escalation, anaphylaxis-like reactions, airway crises, cardiac arrest, and critical equipment failure interfaces. (AHRQ; IHI)</span></li>
            
            <li><strong>حماية حواجز السلامة أثناء الطوارئ</strong>: يجب أن تظل العينات، العد الجراحي (Counts)، العقامة، وهوية الأدوية موثوقة حتى عندما تكون الغرفة تحت الضغط. (AORN concepts; ISMP concepts)<br>
            <span class="english-term">Protect safety barriers during emergencies: specimens, counts, sterility, and medication identity must remain reliable even when the room is stressed. (AORN concepts; ISMP concepts)</span></li>
            
            <li>تحويل كل حالة طوارئ إلى <strong>حلقة تعلم (Learning loop)</strong>: استخلاص مصغر (Mini-debrief) ← تتبع الإجراءات ← إعادة التدريب ← تغيير مستدام. (IHI)<br>
            <span class="english-term">Convert every emergency into a learning loop: mini-debrief → action tracking → re-drill → sustained change. (IHI)</span></li>
        </ol>
    </div>

    <h2>السيناريو الافتتاحي / Opening Narrative</h2>
    <div class="quote-box">
        <strong>حالة واقعية: "عندما تتغير شخصية الحالة"</strong><br>
        <span class="english-term">A true-to-life case (Real Scientific Story)</span>
    </div>

    <p>أخطر لحظة في المسرح الجراحي ليست دائماً الشق الأول. أحياناً تكون اللحظة التي تغير فيها الحالة من شخصيتها—عندما يصبح الإجراء الروتيني إجراءً نازفاً، عندما يصبح المريض المستقر غير مستقر، عندما تتحول القائمة "العادية" إلى مهمة إنقاذ.</p>
    <p><span class="english-term">The most dangerous moment in theatre is not always the first cut. Sometimes it is the moment the case changes its personality—when a routine procedure becomes a bleeding procedure, when a stable patient becomes unstable, when a “normal” list becomes a rescue mission.</span></p>

    <p>أتذكر حالة بدأت بهدوء. لا شيء دراماتيكي. ثم زاد النزيف—ببطء في البداية، ثم فجأة. طلب الجراح شفطاً (Suction) وضمادات (Packs). طلب طبيب التخدير دماً. اتصل شخص ما ببنك الدم. وسأل شخص آخر: "أين جهاز تدفئة الدم؟" وسأل صوت آخر: "هل لدينا بطاقة مسار النقل الحاد للدم (Massive transfusion)؟" أصبحت الممرضة الدوارة مركزاً لعشر مهام في وقت واحد.</p>
    <p><span class="english-term">I remember a case that started quietly. Nothing dramatic. Then bleeding increased—slowly at first, then suddenly. The surgeon asked for suction and packs. The anesthetist asked for blood. Someone called the blood bank. Someone else asked, “Where is the blood warmer set?” Another voice asked, “Do we have a massive transfusion pathway card?” The circulating nurse became the center of ten tasks at once.</span></p>

    <div class="alert-box">
        <p>لم يعانِ المريض من ضرر في ذلك اليوم. لكن النظام أظهر ضعفه: كانت لدينا المعرفة، لكن جاهزيتنا لم تكن مُهيكلة. لم تكن التأخيرات بسبب كسل الموظفين. بل كانت بسبب أن غرفة العمليات لم تحول الاستجابة للطوارئ إلى عمل قياسي (Standard work).</p>
        <p><span class="english-term">The patient did not suffer harm that day. But the system showed its weakness: we had knowledge, but our readiness was not structured. The delays were not because staff were lazy. The delays were because the OR had not turned emergency response into standard work.</span></p>
    </div>

    <div class="success-box">
        <p>علمني ذلك اليوم جملة أُعلمها الآن لكل قائد في غرفة العمليات:<br>
        <strong>في حالات الطوارئ المحيطة بالجراحة، يُفقد الوقت ليس لأننا لا نهتم—بل لأننا لم نُجهز المسار قبل الأزمة.</strong> (AHRQ; IHI)</p>
        <p><span class="english-term">That day taught me a sentence I now teach to every theatre leader:<br>
        <strong>In perioperative emergencies, time is lost not because we don’t care—but because we didn’t prepare the pathway before the crisis.</strong> (AHRQ; IHI)</span></p>
        <p>هذا الفصل هو ذلك المسار—من جانب غرفة العمليات، عملي، قابل للتدقيق، ومُصمم للعمل تحت الضغط.</p>
        <p><span class="english-term">This chapter is that pathway—OR-side, practical, auditable, and designed to work under stress.</span></p>
    </div>

    <h2>22.1 ما يغطيه هذا الفصل (النطاق الخاص بغرفة العمليات) / What This Chapter Covers (OR-Specific Scope)</h2>

    <h3>22.1.1 جاهزية الطوارئ من جانب غرفة العمليات ليست "للتخدير فقط"</h3>
    <p>حتى عندما يقود التخدير عملية الإنعاش، فإن لغرفة العمليات مسؤوليات حرجة:</p>
    <p><span class="english-term"><strong>22.1.1 OR-side emergency readiness is not “anesthesia only”</strong><br>Even when anesthesia leads resuscitation, the OR has critical responsibilities:</span></p>
    <ul>
        <li>سلسلة عهدة منتجات الدم (Chain-of-custody) عند نقطة الاستلام.</li>
        <li>التحكم البيئي (حركة المرور، المساحة، المناطق النظيفة).</li>
        <li>جاهزية المعدات (الشفط، أجهزة التدفئة، إخلاء الدخان عند الاقتضاء).</li>
        <li>التواصل وتعيين الأدوار.</li>
        <li>التوثيق وإمكانية التتبع.</li>
        <li>الحفاظ على انضباط العقامة والعد الجراحي. (AHRQ; AORN concepts)</li>
    </ul>

    <h3>22.1.2 المبدأ الأساسي / Core principle</h3>
    <p>الطوارئ لا تلغي السلامة. الطوارئ تغير <em>ترتيب</em> الإجراءات—لكنها لا تلغي الحاجة للتحقق. (IHI)</p>
    <p><span class="english-term"><strong>22.1.2 Core principle</strong><br>Emergency does not cancel safety. Emergency changes the order of actions—but not the need for verification. (IHI)</span></p>

    <h2>22.2 الدم في المسرح: سلسلة العهدة تحت الضغط / Blood in Theatre: The Chain of Custody Under Pressure</h2>

    <h3>22.2.1 لماذا يجب التعامل مع الدم كعنصر بمستوى الغرسات</h3>
    <p>منتجات الدم تحمل عواقب كبيرة. عدم التطابق أو التسليم غير الموثق ليس "انحرافاً في العملية"—إنه ضرر كارثي محتمل. يجب أن تتعامل غرفة العمليات مع سلسلة عهدة الدم بنفس الجدية التي تتعامل بها مع تتبع الغرسات. (AHRQ)</p>
    <p><span class="english-term"><strong>22.2.1 Why blood must be treated like an implant-level item</strong><br>Blood products carry high consequence. A mismatch or undocumented handoff is not a “process deviation”—it is potential catastrophic harm. The OR must treat blood chain-of-custody with the same seriousness as implant traceability. (AHRQ)</span></p>

    <h3>22.2.2 "مسار الدم" في المسرح (خريطة بسيطة)</h3>
    <p><strong>الطلب ← التوصيل ← الاستلام ← التحقق ← واجهة الإعطاء ← التوثيق ← التحكم في الإرجاع/التخلص ← مراجعة ما بعد الحدث</strong><br>
    إذا ضعفت أي حلقة، يصبح النظام معتمداً على الذاكرة.</p>
    <p><span class="english-term"><strong>22.2.2 The “Blood Pathway” in theatre (simple map)</strong><br>Request → Delivery → Receipt → Verification → Administration Interface → Documentation → Return/Discard Control → Post-event review.<br>If any link is weak, the system becomes dependent on memory.</span></p>

    <h3>22.2.3 طلب الدم المُنظم: الحد الأدنى للبيانات (في الحالات العاجلة)</h3>
    <p>عندما تطلب غرفة العمليات الدم بشكل عاجل، يجب أن يحمل الطلب:</p>
    <p><span class="english-term"><strong>22.2.3 Structured blood request: the minimum dataset (in urgent situations)</strong><br>When the OR requests blood urgently, the request must carry:</span></p>
    <ul>
        <li>مُعرّفين اثنين للمريض،</li>
        <li>غرفة العمليات/الموقع،</li>
        <li>نوع المنتج (RBC/FFP/صفائح/راسب كرايو حسب السياسة المحلية)،</li>
        <li>مستوى الإلحاح (STAT مقابل روتيني)،</li>
        <li>شخص الاتصال للرد،</li>
        <li>تعليمات خاصة (مثل مشعع/سالب CMV إذا انطبق حسب السياسة). (AHRQ)</li>
    </ul>
    <p>هذا يمنع التوصيل الخاطئ، وسوء الفهم، وحلقات التأخير.</p>

    <div class="alert-box">
        <h3>22.2.4 الاستلام والتحقق في المسرح: توقف غير قابل للتفاوض</h3>
        <p>يجب أن يكون التحقق من الدم منظماً ومرئياً. استخدم تحققاً مزدوجاً من شخصين عند الاستلام (حسب السياسة المحلية)، بما في ذلك:</p>
        <p><span class="english-term"><strong>22.2.4 Receipt and verification in theatre: a non-negotiable pause</strong><br>Blood verification must be structured and visible. Use a two-person verification at receipt (as per local policy), including:</span></p>
        <ul>
            <li>تطابق مُعرّفات المريض،</li>
            <li>تطابق رقم الوحدة/نوع المنتج،</li>
            <li>التحقق من انتهاء الصلاحية/وقت الخروج من التخزين المتحكم به،</li>
            <li>التحقق من السلامة (مظهر الكيس)،</li>
            <li>بدء محفز التوثيق. (AHRQ; local transfusion SOP)</li>
        </ul>
        <p><strong>توقف إلزامي (Hard stop):</strong> يجب ألا يدخل الدم في سير العمل النشط حتى يكتمل التحقق.</p>
        <p><span class="english-term"><strong>Hard stop:</strong> Blood must not enter active workflow until verification is complete.</span></p>
    </div>

    <h3>22.2.5 التتبع هو جزء من السلامة، وليس "عملاً ورقياً"</h3>
    <p>في حالات الطوارئ، غالباً ما يتدهور التوثيق. لكن التتبع هو ما يحمي:</p>
    <ul>
        <li>المريض (سجل دقيق)،</li>
        <li>بنك الدم (تسوية المخزون)،</li>
        <li>المستشفى (الاستعداد للتدقيق)،</li>
        <li>الفريق السريري (التحقيقات المستقبلية في ردود الفعل). (AHRQ)</li>
    </ul>
    <p>الحل العملي هو التقاط الحد الأدنى للبيانات بسرعة: رقم الوحدة + وقت الاستلام + توقيع التحقق + التصرف النهائي.</p>
    <p><span class="english-term"><strong>22.2.5 Traceability is part of safety, not “paperwork”</strong><br>A practical solution is a minimum dataset captured quickly: unit number + time received + verification sign-off + disposition.</span></p>

    <h3>22.2.6 الإرجاع والتحكم في درجة الحرارة</h3>
    <p>الفشل الشائع في غرفة العمليات هو ترك الدم في الخارج "للاحتياط". هذا يخلق هدراً وتعاملات غير آمنة. يجب على غرفة العمليات اتباع القواعد المحلية لتوقيت الإرجاع والتخزين المتحكم به. (Local blood bank SOP)</p>

    <h2>22.3 جاهزية النزيف: حزمة المسرح الجراحي / Hemorrhage Readiness: The Theatre-Side Bundle</h2>

    <h3>22.3.1 تُبنى جاهزية النزيف قبل الشق الجراحي</h3>
    <p>أكثر استجابات النزيف أماناً هي تلك التي تُجهز قبل الحاجة إليها:</p>
    <p><span class="english-term"><strong>22.3.1 Hemorrhage readiness is built before the incision</strong><br>The safest haemorrhage response is the one prepared before it’s needed:</span></p>
    <ul>
        <li>تأكيد جاهزية الشفط (Suction)،</li>
        <li>توفر علب (Canisters) وأنابيب كافية،</li>
        <li>أجهزة التدفئة جاهزة إذا تم استخدامها،</li>
        <li>قدرة التسريب بالضغط (حسب السياسة)،</li>
        <li>مسارات وصول واضحة (تجنب الفوضى والمعدات المسدودة)،</li>
        <li>تحديد مسار المساعد (Runner). (ECRI concepts; AORN concepts)</li>
    </ul>

    <h3>22.3.2 محفزات تصعيد النزيف (وعي غرفة العمليات)</h3>
    <p>في حين أن العتبات السريرية يقودها التخدير، يجب على فرق غرفة العمليات التعرف على المحفزات التشغيلية التي تتطلب تصعيداً:</p>
    <p><span class="english-term"><strong>22.3.2 Hemorrhage escalation triggers (OR-side awareness)</strong><br>While clinical thresholds are anesthesia-led, OR teams should recognize operational triggers that require escalation:</span></p>
    <ul>
        <li>زيادة سريعة في حجم علبة الشفط،</li>
        <li>طلبات متكررة للضمادات (Packs) والإسفنج،</li>
        <li>تغييرات متعددة في الأدوات،</li>
        <li>زيادة حركة الأبواب والاتصالات ببنك الدم،</li>
        <li>تزايد عدد الأشخاص في الغرفة (خطر الفوضى). (AHRQ)</li>
    </ul>

    <div class="concept-box">
        <h3>22.3.3 نموذج أدوار الطوارئ (أدوار المسرح التي تمنع الفوضى)</h3>
        <p>في الأحداث عالية التوتر، يجب أن تكون الأدوار صريحة:</p>
        <p><span class="english-term"><strong>22.3.3 The emergency roles model (theatre roles that prevent chaos)</strong><br>In high-stress events, roles must be explicit:</span></p>
        <ul>
            <li><strong>قائد/منسق غرفة العمليات (غالباً الممرضة الدوارة أو المسؤولة):</strong> يعلن "وضع الطوارئ"، يعين الأدوار، يحمي التوقفات الإلزامية.</li>
            <li><strong>المساعد (Runner):</strong> يتعامل مع الجلب الخارجي (استلام من بنك الدم، إمدادات إضافية)، يقلل من حركة الباب بكونه "الأيدي الخارجية".</li>
            <li><strong>الموثّق (Documenter):</strong> يلتقط الطوابع الزمنية الحرجة الدنيا وبيانات التتبع، يحرر الممرضة الدوارة من العبء المعرفي.</li>
            <li><strong>متحكم الباب/المرور (Door/Traffic Controller):</strong> يمنع الازدحام، يحافظ على المنطقة المركزية المعقمة، يحد من المقاطعات.</li>
            <li><strong>حامي الحقل (التركيز على الممرضة المعقمة/Field Protector):</strong> يحمي العقامة، يتتبع الإسفنج/الأدوات، يحافظ على انضباط العد. (AORN concepts; AHRQ)</li>
        </ul>
        <p>إذا لم تُسمَّ الأدوار، يقوم الجميع بـ "شيء ما"، وتُفقد المهام الحرجة.</p>
        <p><span class="english-term">If roles aren’t named, everyone does “something,” and critical tasks get missed.</span></p>
    </div>

    <h3>22.3.4 "وقفات التحقق المحمية" أثناء النزيف</h3>
    <p>حتى تحت ضغط النزيف، يجب على غرفة العمليات إجراء توقفات دقيقة (Micro-pauses) من أجل:</p>
    <ul>
        <li>التحقق من وحدة الدم عند الاستلام،</li>
        <li>التحقق من هوية الأدوية لأي إضافات جديدة للحقل،</li>
        <li>تحديثات حالة العد عند نقاط الإغلاق الحرجة،</li>
        <li>التحقق من تسمية العينات إذا حدثت أثناء الفوضى. (AORN concepts; ISMP concepts)</li>
    </ul>
    <p>تبدو هذه الوقفات بطيئة فقط حتى ترى الضرر الذي تمنعه.</p>
    <p><span class="english-term">These pauses feel slow only until you see the harm they prevent.</span></p>

    <h2>22.4 الأدوية ومواد الحقل أثناء الطوارئ (انضباط غرفة العمليات)</h2>
    <h3>22.4 Medications and Field Substances During Emergencies (OR-side Discipline)</h3>

    <h3>22.4.1 الطوارئ تضاعف السوائل الشفافة والمخاطر غير المسماة</h3>
    <p>أثناء النزيف، تظهر محاليل متعددة: ري (Irrigation)، مواد موضعية، إضافات مخففة. هنا يزداد خطر المادة الخاطئة أو المسار الخاطئ بشكل حاد. (ISMP concepts)</p>

    <h3>22.4.2 توقف إلزامي: لا توجد حاويات غير مسماة—حتى في الطوارئ</h3>
    <p>يجب التعامل مع الأكواب/المحاقن غير المسماة في الحقل المعقم كأخطار. الحل ليس "كن حذراً"، بل أطقم الملصقات وسير العمل القياسي. (ISMP; AORN)</p>

    <h3>22.4.3 التحضير "واحد تلو الآخر" يصبح أكثر أهمية</h3>
    <p>في حالات الطوارئ، يتسبب التحضير المتوازي في أخطاء التبديل. يجب أن يكون الانضباط: حضّر ← سمِّ ← تحقق ← ثم امضِ قدماً. (ISMP)</p>

    <h2>22.5 الحفاظ على العد الجراحي ومنع العناصر المتروكة أثناء الأزمات</h2>
    <h3>22.5 Maintaining Counts and Preventing Retained Items During Crisis</h3>

    <h3>22.5.1 النزيف يزيد من خطر العناصر المتروكة (RSI)</h3>
    <p>الحالات النازفة تتضمن غالباً: إسفنج متعدد، تغييرات سريعة في الحقل، موظفين إضافيين، إغلاق متسرع. هذه ظروف كلاسيكية تساهم في ترك عناصر إذا فقدت الغرفة انضباط العد. (AORN concepts)</p>
    <p><span class="english-term"><strong>22.5.1 Hemorrhage increases RSI risk</strong><br>Bleeding cases often involve: multiple sponges, rapid changes in field, additional staff, rushed closure. These conditions are classic contributors to retained items if the room loses count discipline. (AORN concepts)</span></p>

    <h3>22.5.2 الأزمة لا تلغي متطلبات العد</h3>
    <p>قد يتم تكييف العد حسب السياسة، لكنه يجب أن يظل موثوقاً. إذا حدث تباين:<br>
    <strong>توقف إلزامي—يجب اتباع خوارزمية التباين.</strong> (AORN concepts)</p>

    <h3>22.5.3 خطوة عملية لـ "استقرار العد" أثناء النزيف</h3>
    <p>في اللحظات الرئيسية، يجب على الممرضة المعقمة والدوارة أن تُصرحا بـ:</p>
    <ul>
        <li>وقت آخر عد صحيح،</li>
        <li>الإضافات منذ ذلك الحين،</li>
        <li>حالة إدارة الإسفنج الحالية،</li>
        <li>أي مناطق عالية الخطورة (مثل حشو التجاويف / Cavity packing). (AORN concepts)</li>
    </ul>
    <p>هذا يقلل من الارتباك لاحقاً.</p>
    <p><span class="english-term">At key moments, the scrub and circulator should state: last correct count time, additions since, current sponge management status, any high-risk areas (cavity packing). (AORN concepts). This reduces confusion later.</span></p>

    <h2>22.6 العقامة والتحكم البيئي أثناء الطوارئ</h2>
    <h3>22.6 Sterility and Environmental Control During Emergencies</h3>

    <h3>22.6.1 التحكم في الحشود هو مكافحة للعدوى / Crowd control is infection control</h3>
    <p>الطوارئ تجذب الناس. تزداد فتحات الأبواب. يصبح الحقل المعقم ضعيفاً.<br>
    قم بتعيين مُتحكم في الباب/المرور واحْمِ المنطقة المركزية المعقمة. (AORN concepts)</p>

    <h3>22.6.2 دخول معدات الطوارئ يجب أن يكون مُخططاً</h3>
    <p>إذا تم إحضار معدات بشكل عاجل (أجهزة تدفئة، شفط إضافي)، فيجب ألا تكسر الحقل المعقم أو تسد الوصول. الفوضى خطر يمكن التنبؤ به، وليست مفاجأة. (AHRQ)</p>
    <p><span class="english-term"><strong>22.6.2 Emergency equipment entry must be planned</strong><br>If equipment is brought in urgently (warmers, extra suction), it must not break the sterile field or block access. Chaos is a predictable risk, not a surprise. (AHRQ)</span></p>

    <h2>22.7 أنماط طوارئ ما حول الجراحة ونصوص استجابة غرفة العمليات</h2>
    <h3>22.7 Perioperative Emergency Patterns and OR-side Response Scripts</h3>

    <div class="success-box">
        <h3>22.7.1 نص تصعيد النزيف (جانب غرفة العمليات) / Hemorrhage escalation script (OR-side)</h3>
        <ul>
            <li>"وضع الطوارئ—تصعيد النزيف." (Emergency mode—hemorrhage escalation)</li>
            <li>"تم تعيين مساعد (Runner)."</li>
            <li>"بدء طلب الدم بالحد الأدنى من البيانات."</li>
            <li>"إنشاء منطقة التحقق عند الباب."</li>
            <li>"الموثّق يلتقط تتبع الوحدة."</li>
            <li>"التحكم في الباب نَشِط."</li>
            <li>"تم استقرار العد والتواصل بشأنه." (AHRQ; AORN concepts)</li>
        </ul>

        <hr>
        
        <h3>22.7.2 تفاعل مشابه للتأق (نص دعم غرفة العمليات) / Anaphylaxis-like reaction</h3>
        <p>حتى عندما يقود التخدير، يدعم جانب غرفة العمليات من خلال: إخلاء المساحة، التحكم في المرور والضوضاء، تحضير إمدادات الطوارئ وانضباط التسمية، وتوثيق الأوقات الرئيسية والمواد المُدخلة. (AHRQ)</p>
        <p><span class="english-term">Even when anesthesia leads, OR-side supports by: clearing space, controlling traffic and noise, preparing emergency supplies and labeling discipline, documenting key times and substances introduced. (AHRQ)</span></p>

        <hr>

        <h3>22.7.3 توقف القلب / Code Blue في المسرح / Cardiac arrest in theatre</h3>
        <p>تشمل القضايا الخاصة بغرفة العمليات: إدارة الحقل المعقم، ازدحام المعدات، والتحكم في الحشود. قائد العمليات يعين: أدوار الإنعاش/مجرى الهواء (سريرية)، التحكم في الباب، تحريك المعدات (وضعية الطاولة، الكابلات)، التوثيق. (AHRQ)</p>

        <hr>

        <h3>22.7.4 فشل المعدات الحرجة أثناء الأزمة (شفط/طاقة) / Critical equipment failure during crisis</h3>
        <p>يجب على جانب غرفة العمليات تنفيذ: توقف ← التبديل للبديل (تم فحصه مسبقاً) ← وضع علامة/عزل الجهاز الفاشل عند الاستقرار ← توثيق الفشل والإبلاغ للتعلم. (ECRI concepts; IHI)</p>
    </div>

    <h2>22.8 التوثيق تحت الضغط: الحد الأدنى للبيانات</h2>
    <h3>22.8 Documentation Under Pressure: The Minimum Dataset</h3>

    <h3>22.8.1 خطأ التوثيق في حالات الطوارئ</h3>
    <p>تطلب بعض غرف العمليات الكثير من السرد في الطوارئ—وبالتالي لا يوثق الموظفون شيئاً.<br>
    بدلاً من ذلك، حدد حداً أدنى من البيانات يكون سريعاً، منظماً، وقانونياً آمناً:</p>
    <ul>
        <li>وقت بدء الحدث.</li>
        <li>وقت طلب الدم، وقت استلام الدم.</li>
        <li>أرقام الوحدات وتوقيع التحقق.</li>
        <li>التدخلات أو الانحرافات الرئيسية.</li>
        <li>التصرف في المنتجات غير المستخدمة (تم إرجاعها/التخلص منها حسب السياسة). (AHRQ; local SOP)</li>
    </ul>
    <p><span class="english-term"><strong>22.8.1 The emergency documentation mistake</strong><br>Some ORs demand too much narrative in emergencies—then staff document nothing. Instead, define a minimum dataset that is fast, structured, and legally safe: event start time, blood requested time, blood received time, unit numbers and verification sign-off, major interventions or deviations, disposition of unused products. (AHRQ; local SOP)</span></p>

    <h3>22.8.2 يجب أن ينجو التتبع في أسوأ الأيام / Traceability must survive the worst day</h3>
    <p>إذا انهار التوثيق في الطوارئ، فهذا هو الوقت الذي تحتاجه فيه أكثر من غيره. صممه ليكون بالحد الأدنى (Minimal)، وليس الأقصى.</p>

    <h2>22.9 حلقات التعلم ما بعد الحدث: تحويل الطوارئ إلى تحسين للنظام</h2>
    <h3>22.9 Post-Event Learning Loops: Turning Emergencies into System Improvement</h3>

    <h3>22.9.1 الاستخلاص في 3 دقائق (فور الاستقرار) / The 3-minute debrief</h3>
    <p>اسأل:</p>
    <ul>
        <li>ماذا حدث؟</li>
        <li>ما الذي أبطأنا؟</li>
        <li>ما هو الإصلاح <em>الوحيد</em> الذي سيمنع التأخير في المرة القادمة؟ (IHI)</li>
    </ul>
    <p><span class="english-term"><strong>22.9.1 The 3-minute debrief (immediately after stabilization)</strong><br>Ask: What happened? What slowed us down? What one fix will prevent delay next time? (IHI)</span></p>

    <h3>22.9.2 محفزات الـ Mini-RCA (خاص بغرفة العمليات) / Mini-RCA triggers</h3>
    <p>قم بتفعيل RCA مصغر عند حدوث أي من:</p>
    <ul>
        <li>ارتباك في التحقق من الدم،</li>
        <li>فقدان أنابيب التدفئة أو المستهلكات،</li>
        <li>حشود غير مسيطر عليها/حركة باب،</li>
        <li>ظهور أدوية حقل غير مسماة،</li>
        <li>عملية العد أصبحت غير مستقرة أو حدث تباين،</li>
        <li>فجوات تتبع في التوثيق. (AHRQ; IHI)</li>
    </ul>

    <h3>22.9.3 تتبع الإجراءات والتحقق / Action tracking and verification</h3>
    <p>كل إصلاح يحتاج إلى: مالك + تاريخ استحقاق + طريقة تحقق (إعادة تدقيق أو إعادة تدريب). وإلا ستتكرر نفس التأخيرات. (IHI)</p>

    <div class="concept-box">
        <h2>أدوات عملية (مُلحقات جاهزة للاستخدام) / Practical Tools (Ready-to-Use Inserts)</h2>
        
        <p><strong>22.T1 — بطاقة أدوار طوارئ المسرح (Theatre Emergency Roles Card)</strong><br>
        قائد • مساعد • موثّق • تحكم الباب • حامي الحقل (العد/العقامة). (AHRQ)</p>
        
        <p><strong>22.T2 — قائمة تحقق استلام الدم (عند الباب) (Blood Receipt Verification Checklist)</strong><br>
        مُعرّفان • رقم المنتج/الوحدة • انتهاء الصلاحية/وقت التخزين • فحص السلامة • التوقيع. (Local SOP)</p>
        
        <p><strong>22.T3 — قائمة حزمة جاهزية النزيف (Hemorrhage Readiness Pack Checklist)</strong><br>
        شفط x2 • أنابيب/علب احتياطية • طقم تدفئة/مستهلكات • طقم تسريب ضغط (إذا استُخدم) • ملصقات/قلم • بطاقة توثيق. (ECRI concepts)</p>
        
        <p><strong>22.T4 — ورقة الحد الأدنى لتوثيق الطوارئ (Emergency Minimum Documentation Sheet)</strong><br>
        طوابع زمنية + أرقام الوحدات + تحقق + تصرف + ملاحظات رئيسية. (AHRQ)</p>

        <p><strong>22.T5 — نموذج استخلاص من 3 دقائق (3-Minute Debrief Template)</strong><br>
        ماذا حدث؟ ماذا أبطأنا؟ إصلاح واحد + مالك + تاريخ. (IHI)</p>
    </div>

    <div class="divider">***</div>

    <h2>ما يجب أن تتذكره من هذا الفصل / What You Should Remember From This Chapter</h2>
    <div class="success-box">
        <p><span class="english-term">Key Memory Messages:</span></p>
        <ul>
            <li>الطوارئ لا تلغي التحقق—إنها تتطلب توقفات إلزامية دقيقة (Micro hard stops) للدم، الأدوية، العد، والعينات. (AHRQ; AORN)<br>
            <span class="english-term">Emergency does not cancel verification—it demands micro hard stops for blood, meds, counts, and specimens.</span></li>
            
            <li>سلامة الدم في المسرح هي سلسلة عهدة (Chain-of-custody): وضوح الطلب ← التحقق عند الباب ← إمكانية التتبع ← الإرجاع/التخلص المحكوم. (AHRQ; local SOP)<br>
            <span class="english-term">Blood safety in theatre is chain-of-custody: request clarity → doorway verification → traceability → controlled return/discard.</span></li>
            
            <li>أسرع حالات الطوارئ هي الأكثر تنظيماً: أدوار، نصوص، حزم جاهزة، وبدائل مفحوصة مسبقاً. (IHI; ECRI)<br>
            <span class="english-term">The fastest emergencies are the most structured: roles, scripts, ready packs, and pre-checked backups.</span></li>
            
            <li>الاستخلاص + تتبع الإجراءات (Debrief + action tracking) يحول الحالة الصعبة إلى نظام مستقبلي أكثر أماناً. (IHI)<br>
            <span class="english-term">Debrief + action tracking turns a hard case into a safer future system.</span></li>
        </ul>
    </div>

    <div class="references-list">
        <h2>المراجع / References</h2>
        <ol>
            <li>Agency for Healthcare Research and Quality (AHRQ) — Patient safety systems, teamwork, human factors, reporting and learning concepts.</li>
            <li>Institute for Healthcare Improvement (IHI) — Reliability science, standard work, learning loops, action tracking.</li>
            <li>Association of periOperative Registered Nurses (AORN) — Perioperative workflow concepts relevant to sterility, counts, specimens, and crisis environment control.</li>
            <li>Institute for Safe Medication Practices (ISMP) — Medication safety concepts for sterile-field labeling and LASA risks under pressure.</li>
            <li>ECRI (concepts) — Technology readiness and failure-response concepts supporting emergency equipment preparedness.</li>
            <li>Local Blood Bank SOP / Transfusion Policy — Final authority for blood request/verification/handling and return timing.</li>
        </ol>
    </div>

    <!-- Download Script -->
    <script>
    function downloadHTML() {
        var clone = document.documentElement.cloneNode(true);
        var btn = clone.querySelector('#downloadBar');
        if (btn) btn.remove();
        
        var body = clone.querySelector('body');
        if (body) body.style.paddingTop = '40px';

        var htmlContent = "<!DOCTYPE html>\n" + clone.outerHTML;
        var blob = new Blob([htmlContent], { type: "text/html;charset=utf-8" });
        var url = URL.createObjectURL(blob);
        var a = document.createElement("a");
        a.href = url;
        a.download = "الفصل_الثاني_والعشرون_الدم_والطوارئ.html";
        document.body.appendChild(a);
        a.click();
        
        setTimeout(function() {
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }, 100);
    }
    </script>

</body></html>