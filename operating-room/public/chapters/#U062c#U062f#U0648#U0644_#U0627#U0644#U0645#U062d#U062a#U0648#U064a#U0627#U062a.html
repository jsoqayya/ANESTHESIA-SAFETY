<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjdiNWFlNDg4ZGU5NDlkNmY0OGJhYzU1ZmMwYTE1NzJlZTJmNjExMzciLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzA5MjQyNzU0MTU0NTY0NjY4MCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2JjMTE5NTgyNmI1ZTRmMjVf2KzYr9mI2YRf2KfZhNmF2K3YqtmI2YrYp9iqLmh0bWwtNjc1In0sImV4cCI6MTc3MTY3Njg1NywiaWF0IjoxNzcxNjczMjU3LCJhbGciOiJSUzI1NiJ9.aIMzoyCTJoPImG23XuAlKm4rZRS1m2mzKdM4P6Ru7H4aEoQDG-WevocJ6GxMjt5pdZhA1ca3DY2zhkLt3FPcWa4NWTnVMDvQbqY3uteBCUSNuOVxlZ9iEd5oEDkpkXZod-GbeTH5g13EvOlLsOw5fxVZdAsHv4GbuJnbD_Jdo6oNic4iq7u8q0jhGEC_TPlKor4QNGI1Bg_Pjl-4GSyGrZo-WVD8ln7lLE35FXPylw3T0DUFB0MEEr2PTsrCzOGMHKKgIZ2Eup-F9qOsMJIaxDapT9K6xjKP4YcFjebHSZowT8XyIoVQulvpdZUW4nNvYlI7OEnns23EzdzPDpjeug","c_bc1195826b5e4f25_جدول_المحتويات.html-675")</script><script>(function(){'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
})();</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-3-pro-image-preview-11-2025","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20","gemini-2.5-flash-preview-09-2025"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function(){'use strict';function a(){window.parent.postMessage({type:"interaction"},"*")}window.addEventListener("click",a,{capture:!0,passive:!0});window.addEventListener("touchstart",a,{capture:!0,passive:!0});window.addEventListener("keydown",a,{capture:!0,passive:!0});}).call(this);
</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جدول المحتويات - مبادئ السلامة والجودة في العمليات</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&amp;family=Noto+Kufi+Arabic:wght@300;400;600;800;900&amp;display=swap" rel="stylesheet">
    <style>
      :root {
        --primary-blue: #1e3a8a;
        --secondary-blue: #2563eb;
        --light-blue-bg: #eff6ff;
        --text-dark: #0f172a;
        --text-muted: #475569;
        --border-color: #e2e8f0;
        --accent-gold: #fbbf24;
      }

      body {
        font-family: 'Amiri', 'Times New Roman', serif;
        line-height: 1.8;
        color: var(--text-dark);
        background-color: #f8fafc;
        max-width: 1000px;
        margin: 0 auto;
        padding: 40px 20px;
        box-sizing: border-box;
      }

      .toc-container {
        background-color: #ffffff;
        padding: 50px 60px;
        border-radius: 12px;
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.01);
      }

      .book-title {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 900;
        color: var(--primary-blue);
        text-align: center;
        font-size: 38px;
        margin-bottom: 5px;
        line-height: 1.4;
      }

      .book-subtitle {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 700;
        color: var(--secondary-blue);
        text-align: center;
        font-size: 22px;
        margin-bottom: 40px;
        letter-spacing: 1px;
        text-transform: uppercase;
        direction: ltr;
      }

      .toc-header {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 800;
        text-align: center;
        font-size: 32px;
        color: var(--text-dark);
        margin-bottom: 50px;
        padding-bottom: 20px;
        border-bottom: 3px solid var(--border-color);
        position: relative;
      }

      .toc-header::after {
        content: '';
        position: absolute;
        bottom: -3px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 3px;
        background-color: var(--accent-gold);
      }

      /* Sections Style (Intro/Outro) */
      .extra-section {
        display: flex;
        flex-direction: column;
        padding: 15px 25px;
        background-color: var(--light-blue-bg);
        border-right: 5px solid var(--secondary-blue);
        border-radius: 6px;
        margin-bottom: 15px;
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-size: 20px;
        font-weight: 700;
        transition: transform 0.2s ease;
      }

      .extra-section:hover {
        transform: translateX(-5px);
        background-color: #dbeafe;
      }

      /* Parts Style */
      .part-block {
        margin-top: 50px;
        margin-bottom: 30px;
      }

      .part-title {
        background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
        color: #ffffff;
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 800;
        font-size: 22px;
        padding: 15px 25px;
        border-radius: 8px;
        margin-bottom: 20px;
        box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2);
        display: flex;
        flex-direction: column;
      }

      .part-title-en {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 16px;
        font-weight: 600;
        color: #bfdbfe;
        direction: ltr;
        margin-top: 5px;
        letter-spacing: 0.5px;
      }

      /* Chapters Style */
      .chapter-item {
        padding: 15px 20px 15px 0;
        border-bottom: 1px dashed var(--border-color);
        position: relative;
        transition: background-color 0.2s ease;
      }

      .chapter-item:hover {
        background-color: #f8fafc;
        border-radius: 6px;
      }

      .chapter-title {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 700;
        font-size: 20px;
        color: var(--primary-blue);
        display: flex;
        align-items: baseline;
        gap: 10px;
        margin-bottom: 8px;
      }

      .chapter-number {
        background-color: var(--light-blue-bg);
        color: var(--secondary-blue);
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        font-size: 18px;
        font-weight: 800;
        flex-shrink: 0;
      }

      .chapter-title-en {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 600;
        font-size: 16px;
        color: var(--text-muted);
        direction: ltr;
        display: block;
        margin-right: 46px; /* Align with text after number */
        margin-bottom: 10px;
      }

      .chapter-subpoints {
        font-family: 'Amiri', serif;
        font-size: 17px;
        color: var(--text-dark);
        margin-right: 46px;
        line-height: 1.6;
      }

      .chapter-subpoints-en {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px;
        color: #64748b;
        direction: ltr;
        display: block;
        margin-top: 4px;
      }

      .bullet-separator {
        color: var(--secondary-blue);
        font-weight: bold;
        margin: 0 4px;
      }

      /* Download Button Style */
      .download-btn {
        position: fixed;
        bottom: 30px;
        left: 30px;
        background-color: #2563eb;
        color: white;
        padding: 15px 25px;
        border: none;
        border-radius: 50px;
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: bold;
        font-size: 16px;
        cursor: pointer;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: background-color 0.3s, transform 0.2s;
      }

      .download-btn:hover {
        background-color: #1d4ed8;
        transform: translateY(-2px);
      }

      @media (max-width: 768px) {
        .toc-container { padding: 30px 20px; }
        .book-title { font-size: 28px; }
        .book-subtitle { font-size: 16px; }
        .part-title { font-size: 18px; }
        .chapter-title { font-size: 18px; }
      }
    </style>
</head>
<body>

    <!-- Download Button -->
    

    <div class="toc-container">
        
        <div class="book-title">مبادئ السلامة والجودة في العمليات</div>
        <div class="book-subtitle">OPERATING THEATRE SAFETY &amp; QUALITY PRINCIPLES</div>

        <div class="toc-header">
            جدول المحتويات<br>
            <span style="font-family: 'Segoe UI'; font-size: 24px; color: #475569; display: block; margin-top: 5px;">Table of Contents</span>
        </div>

        <!-- Introductory Sections -->
        <div class="extra-section">
            التقديم
            <span class="chapter-title-en" style="margin-right: 0; margin-bottom: 0; color: #3b82f6;">Foreword</span>
        </div>
        <div class="extra-section" style="margin-bottom: 40px;">
            المقدمة
            <span class="chapter-title-en" style="margin-right: 0; margin-bottom: 0; color: #3b82f6;">Introduction</span>
        </div>

        <!-- PART I -->
        <div class="part-block">
            <div class="part-title">
                الجزء الأول — أسس السلامة والجودة في غرفة العمليات
                <span class="part-title-en">PART I — Foundations of OR Safety &amp; Quality</span>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">1</span> سلامة غرفة العمليات: لماذا يحدث الضرر في المسرح الجراحي</div>
                <span class="chapter-title-en">OR Safety: Why Harm Happens in the Theatre</span>
                <div class="chapter-subpoints">
                    غرفة العمليات كنظام عالي المخاطر <span class="bullet-separator">•</span> مصادر الفشل <span class="bullet-separator">•</span> السلامة بالتصميم مقابل السلامة بالبطولات
                    <span class="chapter-subpoints-en">OR as a high-risk system • sources of failure • safety-by-design vs safety-by-heroics</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">2</span> رحلة المريض في غرفة العمليات: من القرار إلى الخروج</div>
                <span class="chapter-title-en">OR Patient Journey: From Decision to Discharge</span>
                <div class="chapter-subpoints">
                    مسار ما قبل العملية <span class="bullet-separator">•</span> تدفق يوم الجراحة <span class="bullet-separator">•</span> مراحل ما داخل العملية <span class="bullet-separator">•</span> التسليم من الإفاقة إلى الجناح (من جانب غرفة العمليات)
                    <span class="chapter-subpoints-en">pre-op pathway • day-of-surgery flow • intra-op phases • recovery-to-ward handoffs (OR-side only)</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">3</span> خريطة مخاطر غرفة العمليات: السريرية، التشغيلية، البيئية، والقانونية</div>
                <span class="chapter-title-en">OR Risk Map: Clinical, Operational, Environmental, Legal</span>
                <div class="chapter-subpoints">
                    تصنيف المخاطر <span class="bullet-separator">•</span> مصفوفة المخاطر <span class="bullet-separator">•</span> المخاطر عالية الشدة <span class="bullet-separator">•</span> مسارات التصعيد
                    <span class="chapter-subpoints-en">risk taxonomy • risk matrix • high-severity hazards • escalation pathways</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">4</span> حوكمة غرفة العمليات والمساءلة</div>
                <span class="chapter-title-en">OR Governance and Accountability</span>
                <div class="chapter-subpoints">
                    نموذج قيادة غرفة العمليات <span class="bullet-separator">•</span> قواعد المسرح <span class="bullet-separator">•</span> هيكل اللجان <span class="bullet-separator">•</span> المساءلة بلا لوم
                    <span class="chapter-subpoints-en">OR leadership model • theatre rules • committee structure • accountability without blame</span>
                </div>
            </div>
        </div>

        <!-- PART II -->
        <div class="part-block">
            <div class="part-title">
                الجزء الثاني — الجاهزية ما قبل العملية وضوابط "البداية الصحيحة"
                <span class="part-title-en">PART II — Preoperative Readiness and “Start-Right” Controls</span>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">5</span> تعريف المريض وسلامة التوثيق</div>
                <span class="chapter-title-en">Patient Identification and Documentation Integrity</span>
                <div class="chapter-subpoints">
                    ضوابط الهوية <span class="bullet-separator">•</span> اكتمال الموافقة <span class="bullet-separator">•</span> تعارض التوثيق <span class="bullet-separator">•</span> الوقاية من أخطاء المريض الخاطئ
                    <span class="chapter-subpoints-en">ID controls • consent completeness • documentation conflicts • prevention of wrong-patient errors</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">6</span> الموقع الصحيح، الإجراء الصحيح، الغرسة الصحيحة</div>
                <span class="chapter-title-en">Correct Site, Correct Procedure, Correct Implant</span>
                <div class="chapter-subpoints">
                    تحديد الموقع <span class="bullet-separator">•</span> التحقق من الإجراء <span class="bullet-separator">•</span> التحقق من الغرسات <span class="bullet-separator">•</span> الحالات الخاصة والاستثناءات
                    <span class="chapter-subpoints-en">site marking • procedure verification • implant verification • special cases and exceptions</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">7</span> التحسين ما قبل العملية من منظور غرفة العمليات</div>
                <span class="chapter-title-en">Pre-op Optimization from the OR Perspective</span>
                <div class="chapter-subpoints">
                    بوابات الجاهزية <span class="bullet-separator">•</span> الوقاية من الإلغاءات <span class="bullet-separator">•</span> معايير التوقف <span class="bullet-separator">•</span> حلقات التواصل
                    <span class="chapter-subpoints-en">readiness gates • cancellation prevention • stop criteria • communication loops</span>
                </div>
            </div>
        </div>

        <!-- PART III -->
        <div class="part-block">
            <div class="part-title">
                الجزء الثالث — الوقاية من العدوى، العقامة، وسلامة الأدوات
                <span class="part-title-en">PART III — Infection Prevention, Sterility, and Instrument Safety</span>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">8</span> الوقاية بالمضادات الحيوية وبوابة الوقاية من (SSI)</div>
                <span class="chapter-title-en">Antibiotic Prophylaxis and SSI Prevention Gate</span>
                <div class="chapter-subpoints">
                    ملكية التوقيت <span class="bullet-separator">•</span> محفزات إعادة الجرعة (سير العمل) <span class="bullet-separator">•</span> التوثيق <span class="bullet-separator">•</span> أساسيات التدقيق
                    <span class="chapter-subpoints-en">timing ownership • redosing triggers (workflow) • documentation • audit essentials</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">9</span> الجلطات الوريدية، وإصابات الضغط، وانخفاض الحرارة: حزمة الوقاية</div>
                <span class="chapter-title-en">VTE, Pressure Injury, and Hypothermia: OR-Driven Prevention Bundle</span>
                <div class="chapter-subpoints">
                    مدخلات فحص المخاطر <span class="bullet-separator">•</span> خطوات وقاية غرفة العمليات <span class="bullet-separator">•</span> حزمة الوضعيات/الحرارة <span class="bullet-separator">•</span> محفزات التوثيق
                    <span class="chapter-subpoints-en">risk screening inputs • OR prevention steps • positioning/thermal bundle • documentation triggers</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">10</span> تعقيم المسرح الجراحي وموثوقية الحقل المعقم</div>
                <span class="chapter-title-en">Theatre Asepsis and Sterile Field Reliability</span>
                <div class="chapter-subpoints">
                    إخفاقات التقنية المعقمة <span class="bullet-separator">•</span> حركة المرور/الأبواب <span class="bullet-separator">•</span> اختراقات الحقل <span class="bullet-separator">•</span> الإجراءات التصحيحية الفورية
                    <span class="chapter-subpoints-en">sterile technique failures • traffic/doors • field breaks • immediate corrective actions</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">11</span> معالجة الأدوات، ضمان التعقيم، وواجهة (OR–CSSD)</div>
                <span class="chapter-title-en">Instrument Processing, Sterilization Assurance, and OR–CSSD Interface</span>
                <div class="chapter-subpoints">
                    دورة حياة الأداة <span class="bullet-separator">•</span> سلامة التغليف <span class="bullet-separator">•</span> المؤشرات <span class="bullet-separator">•</span> أساسيات التتبع <span class="bullet-separator">•</span> عمليات تسليم OR–CSSD
                    <span class="chapter-subpoints-en">instrument lifecycle • packaging integrity • indicators • traceability essentials • OR–CSSD handoffs</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">12</span> واجهة قسم التعقيم المركزي: من التطهير إلى نقطة الاستخدام</div>
                <span class="chapter-title-en">CSSD Interface: From Decontamination to Point-of-Use</span>
                <div class="chapter-subpoints">
                    تدفق التطهير <span class="bullet-separator">•</span> سلامة التغليف <span class="bullet-separator">•</span> المؤشرات <span class="bullet-separator">•</span> أساسيات التتبع
                    <span class="chapter-subpoints-en">decontamination flow • packaging integrity • indicators • traceability essentials</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">13</span> الأجهزة عالية الخطورة والأطقم المعارة</div>
                <span class="chapter-title-en">High-Risk Devices and Loaner Sets</span>
                <div class="chapter-subpoints">
                    حوكمة الإعارة <span class="bullet-separator">•</span> ضوابط الموردين <span class="bullet-separator">•</span> مخاطر التطهير <span class="bullet-separator">•</span> الجداول الزمنية للجاهزية
                    <span class="chapter-subpoints-en">loaner governance • vendor controls • decontamination risk • readiness timelines</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">14</span> سلامة الغرسات وإمكانية تتبعها</div>
                <span class="chapter-title-en">Implant Safety and Traceability</span>
                <div class="chapter-subpoints">
                    التحقق من الاختيار <span class="bullet-separator">•</span> انتهاء الصلاحية والتخزين <span class="bullet-separator">•</span> سير عمل الباركود/UDI <span class="bullet-separator">•</span> خطة الاستجابة للاستدعاء
                    <span class="chapter-subpoints-en">selection verification • expiry &amp; storage • barcode/UDI workflow • recall response plan</span>
                </div>
            </div>
        </div>

        <!-- PART IV -->
        <div class="part-block">
            <div class="part-title">
                الجزء الرابع — السلامة داخل العملية: نظام حواجز "الأحداث التي لا ينبغي أن تحدث"
                <span class="part-title-en">PART IV — Intraoperative Safety: The “Never Events” Barrier System</span>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">15</span> قائمة التحقق من السلامة الجراحية كأداة للفريق (وليست طقساً)</div>
                <span class="chapter-title-en">Surgical Safety Checklist as a Team Tool (Not a Ritual)</span>
                <div class="chapter-subpoints">
                    تسجيل الدخول/المهلة/تسجيل الخروج <span class="bullet-separator">•</span> جودة التنفيذ <span class="bullet-separator">•</span> التوقفات الإلزامية <span class="bullet-separator">•</span> نقاط التدقيق
                    <span class="chapter-subpoints-en">sign-in/time-out/sign-out • quality of execution • hard stops • audit scoring</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">16</span> العد الجراحي والوقاية من العناصر المتروكة</div>
                <span class="chapter-title-en">Surgical Counts and Prevention of Retained Items</span>
                <div class="chapter-subpoints">
                    عد الإسفنج/الإبر/الأدوات <span class="bullet-separator">•</span> خوارزمية التباين <span class="bullet-separator">•</span> قواعد التصوير <span class="bullet-separator">•</span> التوثيق
                    <span class="chapter-subpoints-en">sponge/needle/instrument counts • discrepancy algorithm • imaging rules • documentation</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">17</span> التعامل مع العينات وتسميتها: أخطاء لا يُتسامح معها</div>
                <span class="chapter-title-en">Specimen Handling and Labelling: Zero-Tolerance Errors</span>
                <div class="chapter-subpoints">
                    سلسلة هوية العينة <span class="bullet-separator">•</span> انضباط التسمية داخل العملية <span class="bullet-separator">•</span> التواصل مع علم الأمراض <span class="bullet-separator">•</span> فخاخ الحوادث الوشيكة
                    <span class="chapter-subpoints-en">specimen-ID chain • intra-op labelling discipline • pathology communication • near-miss traps</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">18</span> سلامة الجراحة الكهربائية، الليزر، وأجهزة الطاقة</div>
                <span class="chapter-title-en">Electrosurgery, Lasers, and Energy Devices Safety</span>
                <div class="chapter-subpoints">
                    خطر الحروق <span class="bullet-separator">•</span> اللوحة الراجعة المشتتة <span class="bullet-separator">•</span> فشل العزل <span class="bullet-separator">•</span> ضوابط عمود الدخان
                    <span class="chapter-subpoints-en">burns risk • dispersive pad • insulation failure • smoke plume controls</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">19</span> سلامة غرفة العمليات من الحرائق والوقاية من الاشتعال</div>
                <span class="chapter-title-en">OR Fire Safety and Ignition Prevention</span>
                <div class="chapter-subpoints">
                    مثلث الحريق <span class="bullet-separator">•</span> السيناريوهات عالية الخطورة <span class="bullet-separator">•</span> قائمة تحقق الوقاية <span class="bullet-separator">•</span> بروتوكول الاستجابة الفورية
                    <span class="chapter-subpoints-en">fire triangle • high-risk scenarios • prevention checklist • immediate response protocol</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">20</span> سلامة الأدوات الحادة والوقاية من تعرض الموظفين</div>
                <span class="chapter-title-en">Sharps Safety and Staff Exposure Prevention</span>
                <div class="chapter-subpoints">
                    المنطقة المحايدة <span class="bullet-separator">•</span> تمرير الأدوات الحادة <span class="bullet-separator">•</span> الاستجابة للتعرض <span class="bullet-separator">•</span> مراقبة الامتثال
                    <span class="chapter-subpoints-en">neutral zone • sharps passing • exposure response • monitoring compliance</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">21</span> التعامل مع الأدوية داخل غرفة العمليات (خارج نطاق التخدير)</div>
                <span class="chapter-title-en">Medication Handling Inside the OR (Non-Anesthesia Scope)</span>
                <div class="chapter-subpoints">
                    الأدوية الموضعية/الري <span class="bullet-separator">•</span> الأدوية المعقمة في الحقل <span class="bullet-separator">•</span> التسمية <span class="bullet-separator">•</span> مخاطر الأدوية المتشابهة في الشكل والصوت
                    <span class="chapter-subpoints-en">topical/irrigation meds • sterile meds on field • labelling • look-alike/sound-alike risks</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">22</span> الدم وحالات الطوارئ المحيطة بالجراحة (جاهزية واستجابة غرفة العمليات)</div>
                <span class="chapter-title-en">Blood and Perioperative Emergencies (OR Readiness and Response)</span>
                <div class="chapter-subpoints">
                    التحقق من طلب/استلام الدم <span class="bullet-separator">•</span> إمكانية التتبع <span class="bullet-separator">•</span> جاهزية النزيف <span class="bullet-separator">•</span> أدوار ونصوص الطوارئ <span class="bullet-separator">•</span> التعلم ما بعد الحدث
                    <span class="chapter-subpoints-en">blood request/receipt verification • traceability • hemorrhage readiness • emergency roles &amp; scripts • post-event learning</span>
                </div>
            </div>
        </div>

        <!-- PART V -->
        <div class="part-block">
            <div class="part-title">
                الجزء الخامس — عمليات غرفة العمليات، التدفق، والكفاءة دون المساومة على السلامة
                <span class="part-title-en">PART V — OR Operations, Flow, and Efficiency Without Safety Trade-offs</span>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">23</span> قواعد الجدولة، الحجز، وتخصيص المسرح الجراحي</div>
                <span class="chapter-title-en">Scheduling, Booking, and Theatre Allocation Rules</span>
                <div class="chapter-subpoints">
                    انضباط الحجز <span class="bullet-separator">•</span> قواعد الأولوية <span class="bullet-separator">•</span> الحالات الإضافية <span class="bullet-separator">•</span> مواءمة السعة
                    <span class="chapter-subpoints-en">booking discipline • priority rules • add-on cases • capacity alignment</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">24</span> بدء الحالة الأولى في الوقت المحدد ووقت التبديل</div>
                <span class="chapter-title-en">First Case On-Time Start and Turnover Time: Reliable Flow Without Safety Trade-offs</span>
                <div class="chapter-subpoints">
                    جاهزية بداية اليوم <span class="bullet-separator">•</span> الاعتمادات المبكرة <span class="bullet-separator">•</span> العمل القياسي <span class="bullet-separator">•</span> فخاخ مؤشرات الأداء <span class="bullet-separator">•</span> الاختناقات <span class="bullet-separator">•</span> المعالجة المتوازية <span class="bullet-separator">•</span> وضوح الأدوار
                    <span class="chapter-subpoints-en">day-start readiness • upstream dependencies • standard work • KPI pitfalls • bottlenecks • parallel processing • role clarity • turnover checklist design</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">25</span> جاهزية المعدات والصيانة الوقائية</div>
                <span class="chapter-title-en">Equipment Readiness and Preventive Maintenance</span>
                <div class="chapter-subpoints">
                    فحوصات الجاهزية اليومية <span class="bullet-separator">•</span> الإبلاغ عن الأعطال <span class="bullet-separator">•</span> حوكمة الصيانة <span class="bullet-separator">•</span> البدائل
                    <span class="chapter-subpoints-en">daily readiness checks • failure reporting • maintenance governance • backup</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">26</span> سلسلة التوريد، المخزون المعقم، وإدارة انتهاء الصلاحية</div>
                <span class="chapter-title-en">Supply Chain, Sterile Stock, and Expiry Management</span>
                <div class="chapter-subpoints">
                    مستويات المخزون الأساسية <span class="bullet-separator">•</span> تدوير المخزون <span class="bullet-separator">•</span> النواقص العاجلة <span class="bullet-separator">•</span> تقليل الهدر بأمان
                    <span class="chapter-subpoints-en">par levels • stock rotation • urgent shortages • waste reduction safely</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">27</span> نماذج التوظيف والكفاءة في المسرح الجراحي</div>
                <span class="chapter-title-en">Staffing Models and Competency in the Theatre</span>
                <div class="chapter-subpoints">
                    مزيج المهارات <span class="bullet-separator">•</span> التوظيف حسب الحدة <span class="bullet-separator">•</span> التوجيه <span class="bullet-separator">•</span> منطق الاعتماد
                    <span class="chapter-subpoints-en">skill mix • staffing to acuity • orientation • credentialing logic</span>
                </div>
            </div>
        </div>

        <!-- PART VI -->
        <div class="part-block">
            <div class="part-title">
                الجزء السادس — نظام الجودة، القياس، التدريب، والاستدامة
                <span class="part-title-en">PART VI — Quality System, Measurement, Training, and Sustainability</span>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">28</span> مؤشرات جودة غرفة العمليات وتصميم لوحة القيادة</div>
                <span class="chapter-title-en">OR Quality Indicators and Dashboard Design</span>
                <div class="chapter-subpoints">
                    المجموعة الأساسية لمؤشرات الأداء <span class="bullet-separator">•</span> SSI/الأحداث التي لا ينبغي أن تحدث <span class="bullet-separator">•</span> الإلغاءات <span class="bullet-separator">•</span> مقاييس الاستخدام
                    <span class="chapter-subpoints-en">core KPI set • SSI/never events • cancellations • utilization metrics (with interpretation)</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">29</span> الإبلاغ عن الحوادث، التحقيق، والإجراءات التصحيحية (خاص بغرفة العمليات)</div>
                <span class="chapter-title-en">Incident Reporting, Investigation, and Corrective Actions (OR-specific)</span>
                <div class="chapter-subpoints">
                    ما يجب الإبلاغ عنه <span class="bullet-separator">•</span> RCA مُركز على المسرح <span class="bullet-separator">•</span> تتبع الإجراءات <span class="bullet-separator">•</span> حلقات التعلم
                    <span class="chapter-subpoints-en">what to report • theatre-focused RCA • action tracking • learning loops</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">30</span> برامج التدقيق وجاهزية الامتثال</div>
                <span class="chapter-title-en">Audit Programs and Compliance Readiness</span>
                <div class="chapter-subpoints">
                    تقويم التدقيق <span class="bullet-separator">•</span> طريقة التتبع (Tracer) <span class="bullet-separator">•</span> جاهزية التوثيق <span class="bullet-separator">•</span> سد الفجوات
                    <span class="chapter-subpoints-en">audit calendar • tracer method • documentation readiness • closing gaps</span>
                </div>
            </div>

            <div class="chapter-item">
                <div class="chapter-title"><span class="chapter-number">31</span> المحاكاة، التدريبات، والحفاظ على الكفاءات الحرجة للسلامة</div>
                <span class="chapter-title-en">Simulation, Drills, and Safety-Critical Competency Maintenance</span>
                <div class="chapter-subpoints">
                    تدريبات الحريق <span class="bullet-separator">•</span> تدريبات تباين العد <span class="bullet-separator">•</span> تدريبات اختراق العقامة <span class="bullet-separator">•</span> العمل الجماعي وقت الأزمات
                    <span class="chapter-subpoints-en">fire drills • count discrepancy drills • sterility breach drills • crisis teamwork in OR</span>
                </div>
            </div>

            <div class="chapter-item" style="border-bottom: none;">
                <div class="chapter-title"><span class="chapter-number">32</span> العوامل البشرية في غرفة العمليات</div>
                <span class="chapter-title-en">Human Factors in the OR: Interruptions, Cognitive Load, Hierarchy, and Speaking Up</span>
                <div class="chapter-subpoints">
                    المقاطعات <span class="bullet-separator">•</span> العبء المعرفي <span class="bullet-separator">•</span> التسلسل الهرمي <span class="bullet-separator">•</span> التحدث بصوت عالٍ
                    <span class="chapter-subpoints-en">interruptions • cognitive load • hierarchy • speaking up</span>
                </div>
            </div>
        </div>

        <!-- Outro Sections -->
        <div class="extra-section" style="margin-top: 40px;">
            الخاتمة
            <span class="chapter-title-en" style="margin-right: 0; margin-bottom: 0; color: #3b82f6;">Conclusion</span>
        </div>
        <div class="extra-section">
            المراجع
            <span class="chapter-title-en" style="margin-right: 0; margin-bottom: 0; color: #3b82f6;">References</span>
        </div>

    </div>

    <!-- Download Script -->
    <script>
    function downloadHTML() {
        var clone = document.documentElement.cloneNode(true);
        var btn = clone.querySelector('#downloadBar');
        if (btn) btn.remove();

        var htmlContent = "<!DOCTYPE html>\n" + clone.outerHTML;
        var blob = new Blob([htmlContent], { type: "text/html;charset=utf-8" });
        var url = URL.createObjectURL(blob);
        var a = document.createElement("a");
        a.href = url;
        a.download = "جدول_المحتويات.html";
        document.body.appendChild(a);
        a.click();
        
        setTimeout(function() {
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }, 100);
    }
    </script>

</body></html>