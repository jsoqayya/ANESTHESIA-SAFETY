<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjdiNWFlNDg4ZGU5NDlkNmY0OGJhYzU1ZmMwYTE1NzJlZTJmNjExMzciLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzA5MjQyNzU0MTU0NTY0NjY4MCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjX2JjMTE5NTgyNmI1ZTRmMjVf2KfZhNmB2LXZhF_Yp9mE2KrYp9iz2Llf2LnYtNixX9it2LHYp9im2YJf2LrYsdmB2Klf2KfZhNi52YXZhNmK2KfYqi5odG1sLTMxMiJ9LCJleHAiOjE3NzE2Njg4MjcsImlhdCI6MTc3MTY2NTIyNywiYWxnIjoiUlMyNTYifQ.F3IC4UkV2Y7w1_5-FC9SuHu7b4asWT7qm--3h7ik7sF19_u7lSSSfK5iNcw1iZOyUgEyZ5qIJyliTj8QUX-T3KmcbQkda03JAyFf6HNldRXiSC5XqxLT5KNXBgIOq6M-78hitjS2DZImex7RYjHdAzS5d9N5zjIe-3rB98HAheVJLP2HKAYJgj84Hqb-FjvdZVPmrU2qjM5Zczdr9y06nbvqboQFxHNoUqddZ_ksMIdBW0oM21UyMtwVJ-wpT1hDhknAHU6Twys8gP2VnoplmXq4_nYvWX74rkUzpncVg02AhxMz7NupHHoYt75cEGvTu4CyygFBGlWwY1Xzk-EhlA","c_bc1195826b5e4f25_الفصل_التاسع_عشر_حرائق_غرفة_العمليات.html-312")</script><script>(function(){'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
})();</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-3-pro-image-preview-11-2025","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20","gemini-2.5-flash-preview-09-2025"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function(){'use strict';function a(){window.parent.postMessage({type:"interaction"},"*")}window.addEventListener("click",a,{capture:!0,passive:!0});window.addEventListener("touchstart",a,{capture:!0,passive:!0});window.addEventListener("keydown",a,{capture:!0,passive:!0});}).call(this);
</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الفصل التاسع عشر — سلامة غرفة العمليات من الحرائق والوقاية من الاشتعال</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&amp;family=Noto+Kufi+Arabic:wght@300;400;600;800&amp;display=swap" rel="stylesheet">
    <style>
      :root {
        --primary-blue: #2563eb;
        --light-blue-bg: #dbeafe;
        --text-color: #1f2937;
        --box-blue: #eff6ff;
        --box-blue-border: #bfdbfe;
        --box-green: #f0fdf4;
        --box-green-border: #bbf7d0;
        --box-yellow: #fefce8;
        --box-yellow-border: #fef08a;
        --box-red: #fef2f2;
        --box-red-border: #fecaca;
      }

      body {
        font-family: 'Amiri', 'Times New Roman', serif;
        line-height: 1.8;
        color: var(--text-color);
        background-color: #fff;
        max-width: 900px;
        margin: 0 auto;
        padding: 40px 60px;
        box-sizing: border-box;
        text-align: justify;
        font-size: 19px;
      }

      h1 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 800;
        color: #1e3a8a;
        text-align: center;
        font-size: 32px;
        margin-bottom: 10px;
        margin-top: 40px;
        line-height: 1.3;
      }

      .part-title {
        text-align: center;
        font-size: 18px;
        color: #6b7280;
        font-family: 'Noto Kufi Arabic', sans-serif;
        margin-bottom: 5px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      h2 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 600;
        color: var(--primary-blue);
        background-color: var(--light-blue-bg);
        padding: 12px 20px;
        margin-top: 50px;
        margin-bottom: 25px;
        border-right: 6px solid #1e40af;
        border-radius: 4px;
        font-size: 24px;
        page-break-after: avoid;
      }

      h3 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 600;
        color: #1e40af;
        font-size: 20px;
        margin-top: 30px;
        margin-bottom: 15px;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 5px;
      }

      h4 {
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: 600;
        color: #374151;
        font-size: 19px;
        margin-top: 25px;
        margin-bottom: 10px;
      }

      p {
        margin-bottom: 18px;
      }

      .subtitle {
        text-align: center;
        font-size: 22px;
        color: #4b5563;
        margin-bottom: 40px;
        font-family: 'Noto Kufi Arabic', sans-serif;
        border-bottom: 1px solid #e5e7eb;
        padding-bottom: 20px;
      }

      /* Boxes Style */
      .quote-box {
        background-color: var(--box-blue);
        border: 1px solid var(--box-blue-border);
        border-right: 5px solid var(--primary-blue);
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
        color: #1e3a8a;
      }

      .alert-box {
        background-color: var(--box-red);
        border: 1px solid var(--box-red-border);
        border-right: 5px solid #ef4444;
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
      }

      .success-box {
        background-color: var(--box-green);
        border: 1px solid var(--box-green-border);
        border-right: 5px solid #22c55e;
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
      }

      .concept-box {
        background-color: var(--box-yellow);
        border: 1px solid var(--box-yellow-border);
        border-right: 5px solid #eab308;
        padding: 20px 25px;
        margin: 25px 0;
        border-radius: 4px;
      }

      /* Tables Style */
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.95em;
        background-color: #fff;
        border: 1px solid #e5e7eb;
      }
      
      thead tr {
        background-color: var(--primary-blue);
        color: #ffffff;
        text-align: right;
      }
      
      th, td {
        padding: 12px 15px;
        border: 1px solid #e5e7eb;
      }
      
      tbody tr:nth-of-type(even) {
        background-color: #f9fafb;
      }

      /* Lists */
      ul, ol {
        margin-bottom: 20px;
        padding-right: 30px;
      }

      li {
        margin-bottom: 10px;
      }

      strong {
        color: #111827;
        font-weight: bold;
      }

      .divider {
        text-align: center;
        color: #9ca3af;
        margin: 50px 0;
        font-size: 24px;
        letter-spacing: 5px;
      }

      .english-term {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 600;
        color: var(--primary-blue);
        direction: ltr;
        display: inline-block;
      }

      /* References */
      .references-list {
        font-size: 16px;
        color: #4b5563;
        direction: ltr;
        text-align: left;
        margin-top: 30px;
        border-top: 1px solid #e5e7eb;
        padding-top: 20px;
      }

      .references-list li {
        margin-bottom: 8px;
      }

      @media (max-width: 768px) {
        body { padding: 20px; font-size: 17px; }
        table { display: block; overflow-x: auto; }
      }

      /* Download Button Style */
      .download-btn {
        position: fixed;
        bottom: 30px;
        left: 30px;
        background-color: #2563eb;
        color: white;
        padding: 15px 25px;
        border: none;
        border-radius: 50px;
        font-family: 'Noto Kufi Arabic', sans-serif;
        font-weight: bold;
        font-size: 16px;
        cursor: pointer;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: background-color 0.3s, transform 0.2s;
      }

      .download-btn:hover {
        background-color: #1d4ed8;
        transform: translateY(-2px);
      }
    </style>
</head>
<body style="padding-top: 40px;">

    <!-- Download Button -->
    

    <div class="part-title">PART III — Intraoperative Safety and High Reliability</div>
    <div class="part-title">الجزء الثالث — السلامة داخل العملية والموثوقية العالية</div>
    
    <h1>CHAPTER 19 — OR Fire Safety and Ignition Prevention</h1>
    <div class="subtitle">الفصل التاسع عشر — سلامة غرفة العمليات من الحرائق والوقاية من الاشتعال<br>
    <span style="font-size: 18px;">(Fire Triangle • High-Risk Scenarios • Prevention Checklist • Immediate Response Protocol)<br>
    (مثلث الحريق • السيناريوهات عالية الخطورة • قائمة تحقق الوقاية • بروتوكول الاستجابة الفورية)</span></div>
    
    <h2>أهداف الفصل / Chapter Aims</h2>
    <div class="concept-box">
        <p>بحلول نهاية هذا الفصل، ستكون قادراً على:</p>
        <p><span class="english-term">By the end of this chapter, you will be able to:</span></p>
        <ol>
            <li>شرح حريق غرفة العمليات كـ <strong>حدث مثلث يمكن التنبؤ به (Predictable triangle event)</strong> (مؤكسد + اشتعال + وقود) ووصف كيف يمكن للطباع "الطبيعية" الصغيرة أن تكمل هذا المثلث. (ASA Practice Advisory; NFPA 99; APSF)<br>
            <span class="english-term">Explain the OR fire as a <strong>predictable triangle event</strong> (oxidizer + ignition + fuel) and describe how small “normal” habits complete the triangle. (ASA Practice Advisory; NFPA 99; APSF)</span></li>
            
            <li>تحديد <strong>السيناريوهات عالية الخطورة (High-risk scenarios)</strong> الأكثر شيوعاً (جراحة الرأس/العنق مع أكسجين إضافي، جراحة مجرى الهواء، التحضير الكحولي، فخاخ الفرش الجراحي، تفعيل الجراحة الكهربائية/الليزر). (ASA Practice Advisory; APSF; AORN)<br>
            <span class="english-term">Identify the most common <strong>high-risk scenarios</strong> (head/neck surgery with supplemental oxygen, airway surgery, alcohol-based prep, draping traps, electrosurgery/laser activation). (ASA Practice Advisory; APSF; AORN)</span></li>
            
            <li>تشغيل <strong>قائمة تحقق وقائية عملية (Practical fire prevention checklist)</strong> مدمجة في سير عمل السلامة الجراحية (الأدوار، خطة الأكسجين، وقت جفاف محلول التحضير، استراتيجية الفرش، جاهزية الأجهزة، شفط الدخان). (ASA Practice Advisory; AORN; IHI)<br>
            <span class="english-term">Run a practical <strong>fire prevention checklist</strong> integrated into the surgical safety workflow (roles, oxygen plan, prep dry-time, drape strategy, device readiness, smoke suction). (ASA Practice Advisory; AORN; IHI)</span></li>
            
            <li>تنفيذ <strong>بروتوكول استجابة فورية (Immediate response protocol)</strong> لحرائق مجرى الهواء وحرائق الحقل الجراحي (إيقاف الغازات، إزالة المواد المحترقة، إخماد الحريق، غسل المنطقة، إعادة التهوية، تقييم الإصابة، التوثيق، واستخلاص المعلومات). (ASA Practice Advisory; APSF; AORN)<br>
            <span class="english-term">Execute an <strong>immediate response protocol</strong> for airway fires and field fires (stop gases, remove burning materials, extinguish, irrigate, re-ventilate, assess injury, document and debrief). (ASA Practice Advisory; APSF; AORN)</span></li>
            
            <li>بناء برنامج حريق لغرفة العمليات: التدريبات الوهمية، عمليات التدقيق، جاهزية المعدات، وحلقات التعلم التي تقلل من الخطر والهلع في آن واحد. (IHI; AHRQ)<br>
            <span class="english-term">Build an OR fire program: drills, audits, equipment readiness, and learning loops that reduce both risk and panic. (IHI; AHRQ)</span></li>
        </ol>
    </div>

    <h2>السيناريو الافتتاحي / Opening Scenario</h2>
    <div class="quote-box">
        <strong>حالة واقعية: "الثانية التي حولت الروتين إلى كارثة"</strong><br>
        <span class="english-term">A true-to-life case: “The second that turned routine into disaster” (Real Scientific Story)</span>
    </div>

    <p>يمكنك إجراء مئات الحالات الجراحية بأمان وتظل على بُعد ثانية واحدة من حريق في غرفة العمليات. هذه هي طبيعته: نادر، مفاجئ، ولا يرحم.</p>
    <p><span class="english-term">You can do hundreds of cases safely and still be one second away from an OR fire. That’s the nature of it: rare, sudden, and unforgiving.</span></p>

    <p>كانت حالة جراحية في الرأس والعنق (Head-and-neck case). كان المريض يتلقى تخديراً تحت المراقبة (MAC) مع أكسجين عبر قناع وجه مفتوح. تم تنظيف الجلد باستخدام محلول تحضير يحتوي على الكحول. الفرش الجراحي غطى المريض وصنع "خيمة" صغيرة حول الرقبة. الجراح، كعادته دائماً، طلب قلم الكي (Bovie) لوقف نزيف شعيري صغير.</p>
    <p><span class="english-term">It was a head-and-neck case. The patient was receiving MAC anesthesia with supplemental oxygen via an open face mask. The skin was prepped with an alcohol-based solution. The drapes tented over the neck. The surgeon, just as they always did, asked for the Bovie to coagulate a small bleeder.</span></p>

    <div class="alert-box">
        <p>بمجرد الضغط على الزر، لم تكن هناك شرارة فقط. كان هناك وميض—<strong>صوت "ووش" (Whoosh) منخفض، واندلع لهب أزرق/برتقالي مشرق تحت الفرش الجراحي وحول عنق المريض.</strong> في أقل من ثانية، اشتعلت النيران في الفرش والشعر.</p>
        <p><span class="english-term">The moment the button was pressed, there was not just a spark. There was a flash—<strong>a low "whoosh" sound, and a bright blue/orange flame erupted under the drapes around the patient’s neck.</strong> In less than a second, the drape and hair were on fire.</span></p>
    </div>

    <p>تم تدريب الفريق. أوقف طبيب التخدير فوراً تدفق الأكسجين. مزق الجراح الفرش الجراحي المحترق لإنزاله على الأرض. وسكبت الممرضة المعقمة (Scrub nurse) وعاءً من المحلول الملحي (Saline) على عنق المريض. كل هذا حدث في أقل من ست ثوانٍ.</p>
    <p><span class="english-term">The team was trained. The anesthetist immediately shut off the oxygen flow. The surgeon ripped the burning drapes off onto the floor. The scrub nurse poured a bowl of saline over the patient’s neck. This all happened in under six seconds.</span></p>

    <p>أُصيب المريض بحروق من الدرجة الأولى والثانية لكنه نجا دون أذى في مجرى الهواء. <strong>لقد نجوا ليس لأنهم لم يرتكبوا خطأ، بل لأنهم كانوا يمتلكون بروتوكولاً فورياً جاهزاً.</strong></p>
    <p><span class="english-term">The patient suffered first- and second-degree burns but survived without airway compromise. <strong>They survived not because they didn’t make a mistake, but because they had an immediate protocol ready.</strong></span></p>

    <div class="success-box">
        <p>الدرس القاسي: الحريق في غرفة العمليات ليس "حادثاً" عشوائياً. إنه معادلة فيزيائية بسيطة: <strong>أكسجين محتجز + وقود كحولي + شرارة حرارية.</strong> إذا وفرت هذه العناصر الثلاثة، فإن الفيزياء لن تسأل عن مدى خبرتك؛ بل ستشعل الحريق. (ASA Practice Advisory; NFPA 99)</p>
        <p><span class="english-term">The harsh lesson: An OR fire is not a random "accident." It is a simple physics equation: <strong>trapped oxygen + alcohol fuel + thermal spark.</strong> If you provide the three elements, physics does not ask how experienced you are; it ignites. (ASA Practice Advisory; NFPA 99)</span></p>
    </div>

    <h2>19.1 فيزياء حرائق غرفة العمليات (المثلث)</h2>
    <h3>19.1 The Physics of OR Fires (The Triangle)</h3>

    <h3>19.1.1 مثلث الحريق الكلاسيكي</h3>
    <p>لفهم حرائق غرفة العمليات، يجب أن تفهم المكونات الثلاثة التي <em>يجب</em> أن تكون موجودة في نفس الوقت:</p>
    <ul>
        <li><strong>المؤكسد (Oxidizer):</strong> الأكسجين (O2)، أو أكسيد النيتروز (N2O). هواء الغرفة العادي يحتوي على 21% أكسجين. في غرف العمليات، غالباً ما نُغني البيئة إلى ما يزيد عن 30-100% بالقرب من مجرى الهواء. هذا يُسرّع الاشتعال ويجعل المواد العادية تحترق بشراسة.</li>
        <li><strong>مصدر الاشتعال (Ignition Source):</strong> أجهزة الجراحة الكهربائية (Bovie)، أجهزة الليزر، الأسلاك الساخنة، أو المثاقب عالية السرعة التي تولد شرراً أو حرارة.</li>
        <li><strong>الوقود (Fuel):</strong> محاليل تحضير الجلد (خاصة المعتمدة على الكحول)، الفرش الجراحي (Drapes)، الشاش، الإسفنج، شعر المريض، وأنابيب القصبة الهوائية (ET tubes). (APSF; NFPA 99; AORN)</li>
    </ul>
    <p><span class="english-term"><strong>19.1.1 The classic fire triangle</strong><br>Oxidizer (O2, N2O), Ignition Source (Electrosurgery, lasers), Fuel (Alcohol-based prep, drapes, hair, ET tubes). (APSF; NFPA 99; AORN)</span></p>

    <h3>19.1.2 المسؤولية المشتركة / Shared responsibility</h3>
    <p>في غرفة العمليات، يتحكم كل تخصص في جانب من جوانب المثلث:</p>
    <ul>
        <li><strong>طبيب التخدير</strong> يتحكم في المؤكسد.</li>
        <li><strong>الجراح</strong> يتحكم في مصدر الاشتعال.</li>
        <li><strong>التمريض</strong> يتحكم في معظم الوقود (التحضير، الفرش).</li>
    </ul>
    <p>لذلك، الوقاية من الحرائق مستحيلة بدون وعي وتواصل بين الثالوث. (IHI)</p>
    <p><span class="english-term"><strong>19.1.2 Shared responsibility</strong><br>Anesthesia controls the oxidizer. Surgeon controls the ignition. Nursing controls most fuel. Prevention is impossible without triad awareness. (IHI)</span></p>

    <h2>19.2 "مناطق الخطر" (السيناريوهات عالية الخطورة)</h2>
    <h3>19.2 The "Danger Zones" (High-Risk Scenarios)</h3>

    <h3>19.2.1 المنطقة فوق عملية الرهابة (Xiphoid) / Above the xiphoid</h3>
    <p>تحدث الأغلبية العظمى من حرائق غرفة العمليات في جراحات الرأس، الرقبة، الوجه، وأعلى الصدر. لماذا؟ لأن هذا هو المكان الذي يلتقي فيه <strong>مصدر الأكسجين</strong> (الأنف/الفم) بـ <strong>مصدر الاشتعال</strong> (أداة الجراح). (ASA Practice Advisory)</p>
    <p><span class="english-term"><strong>19.2.1 Above the xiphoid</strong><br>The vast majority of OR fires happen in head, neck, face, and upper chest surgeries. Why? Because that is where the <strong>oxygen source</strong> meets the <strong>ignition source</strong>. (ASA Practice Advisory)</span></p>

    <h3>19.2.2 جراحة مجرى الهواء المفتوح (Open airway surgery)</h3>
    <p>حالات الأنف والأذن والحنجرة (ENT) التي تستخدم الليزر أو الجراحة الكهربائية بالقرب من أو داخل مجرى الهواء تشكل خطراً شديداً لحرائق مجرى الهواء الداخلية. يجب استخدام أنابيب الرغامي (ET tubes) المقاومة لليزر والبالونات (Cuffs) المملوءة بالماء المصبوغ بأزرق الميثيلين كحواجز. (APSF)</p>

    <h3>19.2.3 فخ الفرش الجراحي "الخيمة" / The "tented" drape trap</h3>
    <p>عندما يرتدي المريض قناع أكسجين (أو قنية أنفية) تحت فرش جراحي يشبه الخيمة، يتجمع الأكسجين ويُشكل جيباً غنياً بالأكسجين. شرارة واحدة من أداة الجراحة تخترق هذا الجيب وتؤدي إلى وميض ناري فوري. (AORN)</p>
    <p><span class="english-term"><strong>19.2.3 The "tented" drape trap</strong><br>When a patient has an oxygen mask under a tented drape, oxygen pools. A spark pierces this pocket and creates an immediate flash fire. (AORN)</span></p>

    <h3>19.2.4 محاليل التحضير غير الجافة (القاتل الصامت) / Wet alcohol prep</h3>
    <p>محاليل التحضير المعتمدة على الكحول تُشكل أبخرة قابلة للاشتعال. إذا لم يُسمح لها بوقت كافٍ لتجف تماماً (عادة 3 دقائق على الأقل، وأكثر إذا تجمعت في الطيات أو السرة)، فإنها يمكن أن تشتعل بمجرد تشغيل الجراحة الكهربائية. (AORN; NFPA 99)</p>

    <h2>19.3 قائمة تحقق الوقاية (دمجها في المهلة/Time-Out)</h2>
    <h3>19.3 The Prevention Checklist (Integrating into the Time-Out)</h3>

    <h3>19.3.1 تقييم مخاطر الحريق يجب أن يكون روتينياً</h3>
    <p>لا تتطلب جميع الحالات نفس مستوى اليقظة، لكن <strong>تقييم الخطر</strong> يجب أن يتم دائماً. في كل Time-Out، يجب أن تُسأل هذه الأسئلة:</p>
    <p><span class="english-term"><strong>19.3.1 Fire risk assessment must be routine</strong><br>Not all cases require the same vigilance, but the <strong>risk assessment</strong> must always happen. In every Time-Out:</span></p>

    <div class="concept-box">
        <ul>
            <li><strong>هل هذه حالة عالية الخطورة لحريق؟</strong> (الجراحة فوق الرهابة / مجرى هواء مفتوح / أكسجين إضافي).</li>
            <li><strong>الممرضة:</strong> "تم استخدام محلول كحولي؛ لقد جف تماماً لمدة [X] دقائق، ولم يتجمع أي سائل."</li>
            <li><strong>طبيب التخدير:</strong> "الأكسجين عند أقل تركيز ممكن لدعم المريض." (تقليل FiO2 قبل استخدام الكي).</li>
            <li><strong>الجراح:</strong> "سأستخدم قلم الكي (Bovie)؛ سأضعه في الحافظة (Holster) عند عدم الاستخدام."</li>
            <li><strong>الممرضة:</strong> "المحلول الملحي المفتوح متاح على الطاولة الخلفية للإخماد السريع." (ASA Practice Advisory; AORN)</li>
        </ul>
    </div>

    <h3>19.3.2 التحكم في الأكسجين (قاعدة طبيب التخدير)</h3>
    <p>إذا كان المريض يعتمد على الأكسجين الإضافي المفتوح (MAC)، فقبل أن يستخدم الجراح الجراحة الكهربائية في منطقة الوجه/الرقبة، يجب على الجراح إخبار طبيب التخدير. يقوم طبيب التخدير بإيقاف الأكسجين، أو تقليله إلى الحد الأدنى، أو استبداله بالهواء الطبي، وينتظر دقيقة لتبدد الأكسجين المتجمع قبل إعطاء الإذن ببدء الكي. (ASA Practice Advisory)</p>

    <h2>19.4 القصة الحقيقية 2: "الفرش الجراحي الذي احتجز الأكسجين"</h2>
    <h3>19.4 Real Story 2: “The drape that trapped the oxygen”</h3>

    <div class="quote-box">
        <p>أثناء استئصال شامة صغيرة على كتف المريض، كان المريض يتلقى الأكسجين عبر قنية أنفية (Nasal cannula). وُضعت المناشف الجراحية (Drapes) فوق الرقبة والوجه، مما أدى إلى خلق جيب ضيق فوق الصدر.</p>
        <p><span class="english-term">During removal of a small mole on the patient's shoulder, the patient was receiving oxygen via nasal cannula. Surgical towels were draped over the neck and face, creating a tight pocket over the chest.</span></p>
        
        <p>بدأ الجراح في استخدام جهاز الكي. فجأة، اشتعلت حافة المنشفة. ولحسن الحظ، كان التفاعل سريعاً: تم إبعاد المنشفة وضُربت باليد لإخمادها. سأل الجراح بذهول: "كيف اشتعلت المنشفة الجافة؟"</p>
        <p><span class="english-term">The surgeon activated the cautery. Suddenly, the edge of the towel caught fire. Luckily, the reaction was quick: the towel was swept away and patted out. The surgeon asked in shock: "How did a dry towel ignite?"</span></p>
        
        <p><strong>الإجابة: الأكسجين المحتجز.</strong> الأكسجين يجعل المواد التي لا تشتعل عادة (مثل المناشف الطبية) شديدة القابلية للاشتعال.<br>
        <strong>الحل المنهجي:</strong> عند استخدام الأكسجين الإضافي المفتوح في الجزء العلوي من الجسم، يجب استخدام شفط هواء (Suction) تحت الفرش الجراحي لإخلاء الأكسجين المتراكم، أو استخدام فرش مفتوح لا يحتجز الغازات. (APSF; AORN)</p>
        <p><span class="english-term"><strong>Answer: Trapped oxygen.</strong> Oxygen makes materials that don't normally burn (like surgical towels) highly flammable. <strong>System fix:</strong> When using open supplemental oxygen on the upper body, place an active suction under the drapes to evacuate pooled oxygen, or use open draping. (APSF; AORN)</span></p>
    </div>

    <h2>19.5 بروتوكول الاستجابة الفورية (لا تفزع، تصرّف)</h2>
    <h3>19.5 Immediate Response Protocol (Do Not Panic, Act)</h3>

    <h3>19.5.1 الأهمية القصوى للثواني الأولى</h3>
    <p>في الحريق، لديك ثوانٍ قبل أن يتدمر الجلد، أو يُحرق مجرى الهواء. لا وقت للصراخ "ماذا نفعل؟". يجب أن يكون البروتوكول محفوراً في ذاكرة الفريق.</p>
    <p><span class="english-term"><strong>19.5.1 The paramount importance of the first seconds</strong><br>In a fire, you have seconds before skin is destroyed or an airway is burned. There is no time to yell "What do we do?". The protocol must be hardwired into the team's muscle memory.</span></p>

    <h3>19.5.2 بروتوكول حريق الحقل الجراحي (على المريض / الفرش)</h3>
    <div class="alert-box">
        <p>إذا كان الحريق على <strong>جسد المريض أو الفرش الجراحي</strong>:</p>
        <ol>
            <li><strong>طبيب التخدير:</strong> يوقف تدفق الأكسجين/الغازات الطبية <strong>فوراً</strong>.</li>
            <li><strong>الجراح والتمريض:</strong> يزيلون المواد المشتعلة (الفرش/الإسفنج) من على المريض ويُلقونها على الأرض.</li>
            <li><strong>التمريض:</strong> يسكب المحلول الملحي (Saline) أو الماء على المريض وأي مواد لا تزال مشتعلة. (لا تنتظر للبحث عن مطفأة الحريق لحريق صغير على الجلد).</li>
            <li>بمجرد إخماده: تقييم حالة المريض، واستئناف الرعاية وتأمين مجرى الهواء إذا لزم الأمر. (ASA Practice Advisory; AORN)</li>
        </ol>
    </div>

    <h3>19.5.3 بروتوكول حريق مجرى الهواء (داخل الأنبوب أو الحلق)</h3>
    <div class="success-box">
        <p>إذا كان الحريق <strong>داخل مجرى الهواء (Airway Fire)</strong> (مثل اشتعال أنبوب الرغامي أثناء جراحة الليزر):</p>
        <ol>
            <li><strong>الجراح أو طبيب التخدير:</strong> أزل الأنبوب الرغامي (ET tube) المشتعل <strong>فوراً</strong>. (لا تنتظر لفصل أي شيء، فقط اسحبه للخارج).</li>
            <li><strong>طبيب التخدير:</strong> أوقف الغازات الطبية وافصل دائرة التنفس (Breathing circuit).</li>
            <li><strong>الجراح/التمريض:</strong> اسكب المحلول الملحي في مجرى الهواء إذا كان لا يزال يحترق. أزل أي بقايا (إسفنج/أجزاء محترقة).</li>
            <li><strong>الإنعاش:</strong> أعد تأسيس مجرى الهواء (أنبوب جديد)، وابدأ التهوية بالهواء المحيط (Room air) (تجنب الأكسجين النقي في البداية إن أمكن لمنع إعادة الاشتعال)، وافحص بالمنظار (Bronchoscopy) لتقييم الضرر. (ASA Practice Advisory; APSF)</li>
        </ol>
    </div>

    <h2>19.6 القياس (كيف تعرف أن الوقاية تعمل)</h2>
    <h3>19.6 Measurement (How to Know Your Prevention Works)</h3>

    <h3>19.6.1 المؤشرات الاستباقية / Leading indicators</h3>
    <ul>
        <li>النسبة المئوية لحالات الرأس/العنق التي تتضمن توثيقاً لتقييم مخاطر الحريق في الـ Time-out. (IHI)</li>
        <li>النسبة المئوية للامتثال لترك محلول التحضير ليجف تماماً قبل الشق الجراحي. (AORN)</li>
        <li>النسبة المئوية للامتثال لاستخدام حافظة الأمان (Holster) لقلم الجراحة الكهربائية.</li>
        <li>إكمال <strong>تدريب وهمي سنوي (Annual Fire Drill)</strong> موثق لجميع موظفي غرفة العمليات. (AHRQ)</li>
    </ul>

    <h3>19.6.2 المؤشرات المتأخرة / Lagging indicators</h3>
    <ul>
        <li>عدد حوادث الحرائق (يجب أن يكون الهدف هو صفر).</li>
        <li>عدد החوادث الوشيكة (Near-misses) المُبلغ عنها (مثل شرارة ملحوظة دون اشتعال).</li>
    </ul>

    <h2>19.7 تأملات الكاتب بعد سنوات في المسرح الجراحي</h2>
    <h3>19.7 The Writer’s Reflection</h3>

    <h3>19.7.1 الحرائق تحدث للفرق الجيدة</h3>
    <p>لا تعتقد أبداً أن "هذا لن يحدث لنا". الحرائق تحدث للأشخاص الذين يعتبرون أن الروتين اليومي يغنيهم عن اليقظة. الغطرسة هي الوقود الرابع في حريق غرفة العمليات.</p>
    <p><span class="english-term"><strong>19.7.1 Fires happen to good teams</strong><br>Never think “it won’t happen to us.” Fires happen to people who confuse daily routine with immunity. Arrogance is the fourth fuel in an OR fire.</span></p>

    <h3>19.7.2 المحلول الملحي هو صديقك المفضل</h3>
    <p>في كل حالة، وخاصة حالات الرأس والعنق، تأكد دائماً من وجود وعاء مفتوح من المحلول الملحي أو الماء على الطاولة الخلفية (Back table). إذا اشتعلت النيران، فليس لديك الوقت لفك غطاء زجاجة جديدة. الماء المفتوح هو مطفأة الحريق الأولى والأسرع لجسد المريض. (ASA Practice Advisory)</p>
    <p><span class="english-term"><strong>19.7.2 Saline is your best friend</strong><br>In every case, especially head and neck, always have an open bowl of saline or water on the back table. If a fire starts, you do not have time to unscrew a bottle. Open water is your first and fastest fire extinguisher for a patient’s body. (ASA Practice Advisory)</span></p>

    <div class="divider">***</div>

    <h2>ما يجب أن تتذكره من هذا الفصل / What You Should Remember from This Chapter</h2>
    <div class="success-box">
        <p><span class="english-term">Key Memory Messages:</span></p>
        <ul>
            <li>حرائق غرفة العمليات هي أحداث مثلث: مؤكسد + اشتعال + وقود. اكسر جانباً واحداً، وستمنع الحريق. (ASA Practice Advisory; NFPA 99)<br>
            <span class="english-term">OR fires are triangle events: oxidizer + ignition + fuel. Break one side, and you prevent fire.</span></li>
            
            <li>السيناريوهات عالية الخطورة يمكن التنبؤ بها—خاصة حالات الرأس/العنق التي تستخدم الأكسجين المفتوح وجراحة مجرى الهواء أو الليزر. (ASA Practice Advisory; APSF)<br>
            <span class="english-term">High-risk scenarios are predictable—especially head/neck cases with open oxygen and airway/laser surgery.</span></li>
            
            <li>الوقاية عبارة عن قائمة تحقق قصيرة وحقيقية: خطة الأكسجين، وقت جفاف التحضير، استراتيجية الفرش، الإبلاغ عن وقت الاشتعال، جاهزية المحلول الملحي. (ASA Practice Advisory; AORN; IHI)<br>
            <span class="english-term">Prevention is a short, real checklist: oxygen plan, prep dry-time, drape strategy, ignition timing communication, readiness of saline/extinguisher.</span></li>
            
            <li>يجب أن تكون الاستجابة متدرباً عليها وفورية، مع بروتوكولات مختلفة لحرائق مجرى الهواء مقابل حرائق الحقل الجراحي. (ASA Practice Advisory; APSF)<br>
            <span class="english-term">Response must be practiced and immediate, with different protocols for airway vs field fires.</span></li>
        </ul>
    </div>

    <div class="references-list">
        <h2>المراجع / References</h2>
        <ol>
            <li>American Society of Anesthesiologists (ASA). Practice Advisory / guidance on Operating Room Fires (oxidizer management, high-risk scenarios, prevention and response concepts).</li>
            <li>Anesthesia Patient Safety Foundation (APSF). Patient safety resources on OR fire prevention and response (team behaviors, fire triangle awareness, drills concepts).</li>
            <li>National Fire Protection Association (NFPA). NFPA 99: Health Care Facilities Code (fire safety concepts relevant to healthcare environments, ignition/oxidizer/fuel controls).</li>
            <li>Association of periOperative Registered Nurses (AORN). Guidelines for Perioperative Practice (electrosurgery safety, prep/draping practices, fire prevention and intraoperative protocols).</li>
            <li>Agency for Healthcare Research and Quality (AHRQ). Patient Safety resources (closed-loop communication, safety culture, debriefing, reporting systems).</li>
            <li>Institute for Healthcare Improvement (IHI). Reliability and quality improvement resources (hard stops, drills, measurement, learning loops).</li>
            <li>ANSI Z136 (laser safety standards concepts) and local laser safety policies (controlled area, eye protection, signage).</li>
        </ol>
    </div>

    <!-- Download Script -->
    <script>
    function downloadHTML() {
        var clone = document.documentElement.cloneNode(true);
        var btn = clone.querySelector('#downloadBar');
        if (btn) btn.remove();
        
        var body = clone.querySelector('body');
        if (body) body.style.paddingTop = '40px';

        var htmlContent = "<!DOCTYPE html>\n" + clone.outerHTML;
        var blob = new Blob([htmlContent], { type: "text/html;charset=utf-8" });
        var url = URL.createObjectURL(blob);
        var a = document.createElement("a");
        a.href = url;
        a.download = "الفصل_التاسع_عشر_حرائق_غرفة_العمليات.html";
        document.body.appendChild(a);
        a.click();
        
        setTimeout(function() {
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }, 100);
    }
    </script>

</body></html>